<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook V3.1//EN"[
<!ENTITY szarp-info SYSTEM "../common/szarp-info.sgml">
]>


<book lang="pl" id="raporter">

<bookinfo>

&szarp-info;

<title>Program Raporter 3 - dokumentacja</title>

<subtitle>SZARP wersja 3.1</subtitle>
<authorgroup>
	<author><firstname>Pawe³</><surname>Pa³ucha</></author>
</authorgroup>

<abstract>
	<para>
Program Raporter jest elementem systemu SZARP s³u¿±cym do wy¶wietlania bie¿±cych warto¶ci
parametrów, pogrupowanych w raporty. Pozwala na wy¶wietlanie i zapisywanie na dysk
raportów zdefiniowanych przez administratora, a tak¿e na samodzielne tworzenie wzorców 
raportów przez u¿ytkownika.
	</para>
	<para>
		Wersja pliku: $Id: ekstraktor3.sgml 6792 2009-05-29 12:14:33Z pawel $
	</para>
</abstract>

</bookinfo>

<chapter id="rap-info">
<title>Pomoc programu Raporter</title>
<section id="rap-info-main">
<title>Witamy w programie Raporter 3</title>
<para>
Program Raporter pozwala na ¶ledzenie bie¿±cych warto¶ci parametrów technologicznych
udostêpnianych przez serwer SZARP. Parametry pogrupowane s± w raporty zdefiniowane
przez u¿ytkownika systemu, mo¿liwe jest te¿ tworzenie w³asnych raportów
z wybranymi parametrami.
</para>

<para>
Dowiedz siê wiêcej:
<itemizedlist>
	<listitem><para>
			O uruchamianiu programu - <xref linkend="rap-basic-run">.
	</para></listitem>
	<listitem><para>
			O elementach g³ównego okna programu - <xref linkend="rap-basic-window">.
	</para></listitem>
	<listitem><para>
			O wybieraniu wy¶wietlanego raportu - <xref linkend="rap-basic-select">.
	</para></listitem>
	<listitem><para>
			O tworzeniu w³asnych wzorców raportów - <xref linkend="rap-basic-templates">.
	</para></listitem>
</itemizedlist>
</para>
<para>
Lub przejd¼ do spisu tre¶ci - <xref linkend="raporter">. Mo¿esz tak¿e wybieraæ odno¶nik 
<quote>Nastêpny</quote> aby zapoznaæ siê po kolei z ca³± dokumentacj±.
</para>

</section> <!-- rap-info-main -->
</chapter> <!-- rap-info -->

<chapter id="rap-basic">
<title>Podstawy korzystania z programu</title>

<section id="rap-basic-run">
<title>Uruchamianie programu</title>
<para>
	Program zazwyczaj uruchamiasz korzystaj±c z Centrum Sterowania SZARP - g³ównego menu
	s³u¿±cego do uruchamiania wszystkich programów systemu SZARP. Centrum Sterowania ma
	postaæ ikony z logiem systemu SZARP, znajduj±cej siê w tacce systemowej (inaczej
	zasobniku systemowym), czyli
	domy¶lnie w prawym dolnym rogu ekranu.
</para>
<para>
	Po klikniêciu myszk± na Centrum Sterowania rozwinie siê menu zawieraj±ce miêdzy innymi
	dostêpne w systemie raporty, pogrupowane wed³ug urz±dzeñ.
<figure>
<title>Uruchamianie programu</title>
<mediaobject>
<imageobject><imagedata scale="60" fileref="pics/start-scc.png"></imageobject>
</mediaobject>
</figure>
	Wybierz interesuj±ce Ciê urz±dzenie oraz raport i kliknij na nim mysz± - uruchomi siê
	program Raporter. Pierwsz± wykonywan± przez program czynno¶ci± jest próba
	po³±czenia siê z serwerem SZARP. Je¶li próba ta nie powiedzie siê, oznacza to ¿e albo
	serwer SZARP nie jest dostêpny, albo program nie wie do jakiego serwera siê po³±czyæ. Zobacz
	w takim przypadku, jak ustawiæ adres serwera - <xref linkend="rap-ext-server">.
<note><para>
	Mo¿liwe jest uruchomiene programu bez podanego serwera i nazwy raportu,
	np. z menu Start w systemie Windows. W takiej sytuacji program przy starcie spyta
	siê o adres serwera.
</para></note>
</para>
</section> <!-- rap-basic-run -->

<section id="rap-basic-window">
<title>Wygl±d okna programu</title>
<para>
Po uruchomieniu g³ówne okno programu powinno wygl±daæ mniej wiêcej jak na poni¿szym obrazku.
<figure>
<title>G³ówne okno programu</title>
<mediaobject>
<imageobject><imagedata scale="60" fileref="pics/window.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
Wiêkszo¶æ okna zajmuje przestrzeñ, w której wy¶wietlane s± raporty, podzielona na trzy 
kolumny, zawieraj±ce kolejno skrócon± nazwê wy¶wietlanych parametrów, aktualn± warto¶æ
oraz d³u¿szy, tekstowy opis parametru.
</para>
<para>
Szeroki przycisk <guibutton>Start/Stop</guibutton> na dole ekranu s³u¿y do uruchamiania
i zatrzymywania wy¶wietlania raportu. Ten sam efekt mo¿na uzyskaæ wciskaj±c klawisz
<keycap>Spacja</keycap>. Ikona na przycisku informuje tak¿e czy komunikacja z serwerem odbywa 
siê prawid³owo - je¶li program nie otrzyma odpowiedzi od serwera, to jej kolor zmienia siê
z zielonego na ¿ó³y, a po dalszych 10 sekundach na czerwony. Krótkotrwa³a zmiana koloru na ¿ó³ty
jest sytuacj± normaln± - serwer widocznie potrzebowa³ trochê wiêcej czasu na odpowied¼.
<note><para>Domy¶lnie po uruchomieniu programu wy¶wietlanie raportu jest zatrzymane - 
		musisz	klikn±æ na przycisk <guibutton>Start</guibutton> lub wcisn±æ klawisz <keycap>Spacja</keycap>.</para></note>
<figure>
<title>Okno programu po uruchomieniu raportu</title>
<mediaobject>
<imageobject><imagedata scale="100" fileref="pics/running.png"></imageobject>
</mediaobject>
</figure>

</para>
<para>
Pasek statusu poni¿ej w kolejnych polach informuje o:
<itemizedlist>
	<listitem><para>
		Rodzaju wy¶wietlanego raportu - <quote>System</quote> lub
		<quote>W³asne</quote> dla raportu zdefiniowanego samodzielnie
		przez u¿ytkownika.
	</para></listitem>
	<listitem><para>
		Nazwie aktualnie za³adowanego raportu. Nazwa ta widoczna jest tak¿e 
		na belce tytu³owej okna programu.
	</para></listitem>
	<listitem><para>
		Czêstotliwo¶ci pobierania danych z serwera, ustawianej w opcjach programu.
		Domy¶lnie dane od¶wie¿ane s± co 10 sekund.
	</para></listitem>
	<listitem><para>
		Godzinie o której nast±pi³o ostatnie od¶wie¿enie warto¶ci wy¶wietlanych
		parametrów.
	</para></listitem>
</itemizedlist>
</para>
<para>
	Na górze okna znajduje siê menu, daj±ce dostêp do wszystkich funkcji programu.
</para>
</section> <!-- rap-basic-run -->

<section id="rap-basic-select">
<title>Wybór wy¶wietlanego raportu</title>
<para>
Je¶li program uruchomi³e¶ za pomoc± Centrum Sterowania SZARP (zobacz <xref linkend="rap-basic-run">),
to za³adowany zosta³ wybrany raport. Je¶li w inny sposób, to pocz±tkowo program nie wy¶wietla
¿adnego raportu. Niezale¿nie od tego, mo¿esz zawsze zmieniæ wy¶wietlany raport, korzystaj±c z menu
<guimenu>Wzorce</guimenu>.
<!-- image -->
</para>
<para>
	Na dole menu znajduj± siê dwie pozycje pozwalaj±ce na zmianê aktualnie 
	wy¶wietlanego raportu. Pierwsza z nich oznaczona jest w menu nazw± aktualnej 
	konfiguracji SZARP, po rozwiniêciu dostêpna jest pe³na lista wszystkich 
	raportów zdefiniowanych przez administratora serwera 
	SZARP, do którego jeste¶my pod³±czeni.
<figure>
<title>Menu wyboru wzorca raportu</title>
<mediaobject>
<imageobject><imagedata scale="100" fileref="pics/templates-menu.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
	Druga to <guimenu>Wzorce u¿ytkownika</guimenu>, zawieraj±ca listê raportów 
	zdefiniowanych samodzielnie przez u¿ytkownika (tworzenie raportów - zobacz 
	<xref linkend="rap-basic-templates">). Pocz±tkowo lista ta mo¿e byæ 
	oczywi¶cie pusta.
</para>
<para>
	<note><para>
		Podczas normalnej pracy zwykle bêdziesz chcia³ widzieæ wiêcej ni¿ jeden 
		raport. Nie ma ¿adnych przeciwskazañ ¿eby uruchomiæ wiêcej ni¿ jedn± 
		kopiê programu. Dostêp do raportów systemowych jest naj³atwiejszy z 
		Centrum Sterowania SZARP. Aby uruchomiæ raport ze wzorca u¿ytkownika, 
		uruchom program z dowolnym raportem systemowym, po czym za pomoc± 
		menu <guimenu>Wzorce -> Wzorce u¿ytkownika</guimenu> 
		wybierz ¿±dany wzorzec raportu.
	</para></note>
</para>
	
</section> <!-- rap-basic-select -->

<section id="rap-basic-templates">
<title>Tworzenie w³asnych raportów</title>
<para>
	Program umo¿liwia utworzenie w³asnego raportu, zawieraj±cego dowolne parametry
	wybrane spo¶ród wszystkich dostêpnych.
</para>
<para>
	Aby utworzyæ nowy wzorzec raportu, z menu wybierz <guimenu>Wzorce -> Nowy</guimenu>
	lub u¿yj skrótu klawiszowego <keycap>Ctrl-N</keycap>. Otworzy siê okno dialogowe, 
	w którym musisz podaæ nazwê nowego raportu oraz wy¶wietlane parametry. Przyciski
	<guibutton>Dodaj</guibutton> i <guibutton>Usuñ</guibutton> pozwalaj± na dodawanie
	do raportu nowych parametrów i usuwanie zbêdnych.
<figure>
<title>Okno edycji raportu</title>
<mediaobject>
<imageobject><imagedata scale="100" fileref="pics/templates-edit.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
	Po naci¶niêciu <guibutton>Dodaj</guibutton> wy¶wietli siê drzewko zawieraj±ce wszystkie 
	dostêpne na danym serwerze parametry. Klikaj±c na wêz³y drzewa mo¿esz rozwijaæ poszczególne
	ga³êzie. Po wybraniu myszk± parametru w polu <guilabel>Opis</guilabel> mo¿esz zmieniæ wy¶wietlany
	opis parametru. Klikniêcie <guibutton>Ok</guibutton> doda wybrany parametr do raportu.
	<note><para>
		Domy¶lnie zaznaczone jest pole 
		<guilabel>Pokazuj wed³ug nazw okien programu przegl±daj±cego.</guilabel>. Przy tym
		ustawieniu drzewko ma strukturê analogiczn± do zestawów wykresów w programie
		przegl±daj±cym, ale widoczne s± tylko parametry, które prezentowane s± na
		wykresach programu przegl±daj±cego. Po odznaczeniu pola sposób prezentacji
		zmieni siê - widoczne bêd± wszystkie parametry, pogrupowane wed³ug pe³nych nazw. 
		Grupowanie to zwykle bêdzie odpowiadaæ strukturze urz±dzeñ, z których pobierane
		s± parametry.
	</para></note>
</para>
<para>
	Nowo utworzony wzorzec raportu zatwierdzasz klikaj±c w g³ównym oknie edytora raportów
	przycisk <guibutton>Ok</guibutton>. Przy czym przycisk <guibutton>Ok</guibutton> nie jest 
	dostêpny, dopóki nie uzupe³nisz nazwy raportu i nie dodasz przynajmniej jednego parametru.
	Utworzony wzorzec raportu jest automatycznie zapisywany i od tej pory bêdzie dostêpny
	w menu <guimenu>Wzorce -> Wzorce u¿ytkownika</guimenu>.
	<note><para>
		Je¿eli wcze¶niej zdefiniowa³e¶ inny wzorzec o takiej samej nazwie, program spyta siê
		czy nadpisaæ poprzedni. Nie mog± istnieæ 2 wzorce o takiej samej nazwie, nawet je¶li
		odnosz± siê do ró¿nych serwerów i konfiguracji SZARP. Je¿eli poprzedni wzorzec
		odnosi³ siê do innej konfiguracji SZARP, to nie by³ widoczny w menu wzorców
		u¿ytkownika, ale program poinformuje o jego istnieniu oraz o konfiguracji, do 
		której siê odnosi³. Je¶li wybierzesz ¿eby nie nadpisywaæ wzorca, bêdziesz móg³
		wróciæ do edycji wzorca raportu i zmieniæ jego nazwê.
	</para></note>
</para>
</section> <!-- rap-basic-select -->

<section id="rap-basic-templates2">
<title>Edycja i usuwanie w³asnych raportów</title>
<para>
	Po utworzeniu w³asnego raportu (zobacz poprzedni rozdzia³ - 
	<xref linkend="rap-basic-templates">) w menu <guimenu>Wzorce</guimenu>
	uaktywni± siê opcjê <guimenu>Edycja</guimenu> i <guimenu>Usuñ</guimenu>.
	Pozwalaj± one na odpowiednio edycjê (zmiana nazwy, dodanie i usuniêcie
	parametrów) oraz na usuniêcie aktualnie wybranego raportu w³asnego.
<figure>
<title>Menu wzorców - edycja i usuwanie</title>
<mediaobject>
<imageobject><imagedata scale="100" fileref="pics/templates-menu2.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
	Nie jest mo¿liwe usuwanie i edycja raportów zdefiniowanych przez
	administratora systemu.
</para>
</section> <!-- rap-basic-templates2 -->

<section id="rap-basic-help">
<title>Korzystanie z pomocy programu</title>
<para>
	Dostêp do ninejszej dokumentacji programu mo¿na uzyskaæ korzystaj±c z
	menu <guimenu>Pomoc</guimenu> lub za pomoc± klawisza <keycap>F1</keycap>.
</section> <!-- rap-basic-help -->

</chapter> <!-- rap-basic-templates2 -->

<chapter id="rap-ext">
<title>Zagadnienia zaawansowane</title>
<section id="rap-ext-server">
<title>Wybór serwera</title>
<para>Informacje o dostêpnych parametrach oraz ich warto¶ciach program pobiera
	z serwer SZARP. Serwer SZARP mo¿e byæ tym samym komputerem na którym pracujemy,
	mo¿e byæ te¿ dostêpny za pomoc± sieci TCP/IP. Adres serwera do którego chcesz
	siê po³±czyæ mo¿esz podaæ wywo³uj±c z menu opcjê <guimenu>Opcje -> Serwer</guimenu>.
	Program spyta siê o adres serwera tak¿e w sytuacji, gdy przy starcie nie bêdzie
	móg³ siê po³±czyæ z domy¶lnym serwerem.
	<note><para>Je¶li program dzia³a poprawnie, nie zmieniaj bez potrzeby adresu
			serwera.
	</para></note>
<figure>
<title>Okno wyboru serwera</title>
<mediaobject>
<imageobject><imagedata scale="100" fileref="pics/server.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
	Adres serwera sk³ada siê z nazwy (lub adresu IP) serwera, a nastêpnie dwukropka
	i numeru portu. Domy¶lny numer portu, na którym dzia³a serwer SZARP, to 
	<emphasis>8083</emphasis>. Specjalne nazwa serwera <emphasis>localhost</emphasis>
	oznacza lokalny komputer - ten na którym uruchamiasz program Raporter.
	Je¶li nie znasz prawid³owej nazwy serwera, skontaktuj siê z administratorem
	serwera SZARP, do którego chcesz siê po³±czyæ.
</para>
<para>
	Zaznaczenie opcji <guilabel>Zapisz adres serwera jako domy¶lny</guilabel>
	spowoduje, ¿e program bêdzie ³±czy³ siê z podanym serwerem tak¿e domy¶lnie
	przy kolejnym uruchomieniu.
</para>
<para>
	Adres serwera do którego program ³±czy siê przy uruchamianiu mo¿na tak¿e podaæ
	jako opcjê przy uruchamianiu programu - zobacz <xref linkend="rap-ext-commandline">.
	Mechanizm ten jest wykorzystywany np. przez program Centrum Sterowania - st±d
	te¿ Raporter uruchamiany z poziomu Centrum Sterowania zawsze domy¶lnie bedzie
	siê ³±czy³ z adresem podawanym przez Centrum Sterowania.
</para>
</section> <!-- rap-ext-server -->

<section id="rap-ext-dump">
<title>Zapis warto¶ci parametrów do pliku</title>
<para>
	Raporter umo¿liwia ci±g³e zapisywanie warto¶ci wy¶wietlanych parametrów
	do pliku w formacie CSV (warto¶ci oddzielone przecinkami). Powsta³y w ten
	sposób plik mo¿esz otworzyæ np. w arkuszu kalkulacyjnym. 
</para>
<para>
	Aby w³±czyæ zapis wybierz z menu opcjê <guimenu>Plik -> Zrzut do pliku</guimenu>
	i zaznacz opcjê <guilabel>W³±cz zrzut warto¶ci do pliku</guilabel>.
	Program pozwoli te¿ na podanie katalogu w którym ma byæ tworzony plik, nazwa pliku
	tworzona jest automatycznie na podstawie nazwy raportu.
<figure>
<title>Okno opcji zapisu warto¶ci do pliku</title>
<mediaobject>
<imageobject><imagedata scale="100" fileref="pics/dump.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
	Podanie maksymalnego rozmiaru tworzonego pliku zabezpiecza przed zape³nieniem
	dysku przez d³ugo uruchomiony program. Po osi±gniêciu podanego rozmiaru program
	nie bêdzie zapisywa³ do pliku wiêcej danych.
	<note><para>Czêsto¶æ dopisywania danych do pliku zale¿y od czêsto¶ci
			odpytywania serwera, któr± mo¿na ustawiæ za pomoc± opcji 
			<guimenu>Okres</guimenu> w menu - zobacz 
			<xref linkend="rap-ext-period">.</para></note>
</para>
</section> <!-- rap-ext-dump -->

<section id="rap-ext-export">
<title>Eksport i import wzorców u¿ytkownika</title>
<para>
	Raporter umo¿liwia zapisanie listy parametrów z aktualnie wybranego raportu
	u¿ytkownika do pliku na dysku. Robimy to za pomoc± opcji 
	<guimenu>Wzorce -> Eksportuj</guimenu>, program poprosi o podanie lokalizacji
	i nazwy tworzonego pliku (domy¶lnie z rozszerzeniem <emphasis>*.xpl</emphasis>).
</para>
<para>
	Tak utworzony plik mo¿e byæ skopiowany do katalogu innego u¿ytkownika, skopiowany
	przez sieæ na inny komputer, przes³any poczt± lub w dowolny inny sposób, a nastêpnie
	zapisany w nim wzorzec raportu mo¿e byæ zaimportowany do programu za pomoc±
	opcji <guimenu>Wzorce -> Importuj</guimenu>.
</para>
</section> <!-- rap-ext-export -->

<section id="rap-ext-period">
<title>Ustawianie czêsto¶ci odpytywania serwera</title>
<para>
	Za pomoc± menu <guimenu>Opcje -> Okres</guimenu> mo¿esz okre¶liæ co ile
	sekund program bêdzie odpytywa³ serwer o warto¶ci parametrów. Domy¶lnie
	jest to 10 sekund, gdy¿ taka jest standardowa czêsto¶æ odpytywania urz±dzeñ
	pod³±czonych do systemu SZARP.
<figure>
<title>Ustawianie okresu odpytywanie serwera</title>
<mediaobject>
<imageobject><imagedata scale="100" fileref="pics/period.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
	Okres mo¿esz zmieniaæ w zakresie od 10 do 300 sekund. Wyd³u¿enie okresu odpytywania
	mo¿e byæ przydatne je¶li ³±czysz siê do serwera SZARP za pomoc± wolnego po³±czenia 
	sieciowego lub je¶li zamierzasz w³±czyæ zrzut warto¶ci do pliku 
	(zobacz <xref linkend="rap-ext-dump"> i nie chcesz aby dane by³y zapisywane do
	pliku zbyt czêsto. W pozosta³ych przypadkach zaleca siê zostawienie domy¶lnej
	warto¶ci 10 sekund.
</para>
</section> <!-- rap-ext-period -->

<section id="rap-ext-fontsize">
<title>Zmiana wielko¶ci czcionki raportu</title>
<para>
	Opcje <guimenu>Zwiêksz czcionkê</guimenu> i <guimenu>Zmniejsz czcionkê</guimenu>
	w menu <guimenu>Opcje</guimenu> pozwalaj± na zmianê rozmiaru czcionki, któr±
	wy¶wietlane s± nazwy i warto¶ci parametrów w raporcie.
</para>
<para>
	Opcje te nie zmieniaj± wielko¶ci czcionek menu i innych elementów programu.
	Aby zmieniæ ich wielko¶æ, u¿yj opcji <guimenu>Czcionki SZARP</guimenu>
	programu Centrum Sterowania SZARP.
</para>
</section> <!-- rap-ext-fontsize -->

<section id="rap-ext-commandline">
<title>Uruchamianie program z linii poleceñ</title>
<para> 
	Uruchamiaj±c program z linii poleceñ (np. konsoli pod Linuksem) mo¿na podaæ
	jako parametr adres serwera (z numerem portu po dwukropku) oraz opcjonalnie
	nazwê wy¶wietlanego systemowego wzorca raportu. Je¿eli nazwa wzorca zawiera
	spacjê, nale¿y wzi±æ j± w cudzys³ów.
</para>
<para>
	Przyk³adowe uruchomienie programu z po³±czeniem do lokalnego serwera i 
	wy¶wietleniem wzorca <emphasis>Praca kot³ów</emphasis>:
<programlisting>
	/opt/szarp/bin/raporter3 localhost:8083 'Praca kot³ów'
</programlisting>
</para>
<para>
	Uruchomienie programu z opcj± <option>-h</option> lub <option>--help</option> 
	wy¶wietla krótk± informacjê o sposobie uruchomienia programu.
</para>
</section> <!-- rap-ext-commandline -->

</chapter> <!-- rap-ext -->

</book>


