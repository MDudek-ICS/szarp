<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook V3.1//EN"[
<!ENTITY szarp-info SYSTEM "../common/szarp-info.sgml">
<!ENTITY help SYSTEM "../common/help.sgml">
]>

<book lang="pl" id="draw3">
<bookinfo>


&szarp-info;

<title>Draw 3 - documentation</title>

<abstract>
<para>
</para>
<para>
</para>
</abstract>

</bookinfo>

<chapter id="draw3-info">
<title>Help Draw 3</title>
<section id="draw3-info-main">
<title>Welcome to Draw 3</title>
<para>
Draw 3 reading program used for graphical presentation (visualization) collected and archived data technology. The data are presented in graphs. A number of additional features makes the viewer a powerful tool in the analysis of data useful heat.
</para>
<para>
Learn more:
<itemizedlist>
<listitem>
<para>the basics of working with the program - <xref linkend="draw3-base-main"></para>
</listitem>
<listitem>
<para>about navigating the charts - <xref linkend="draw3-base-graphsnavigation"></para>
</listitem>
<listitem>
<para>about defining your own set of charts - <xref linkend="draw3-ext-chartset"></para>
</listitem>
<listitem>
<para>keyboard shortcuts - <xref linkend="draw3-ext-shortcuts"></para>
</listitem>
</itemizedlist>
You can go to main content - <xref linkend="draw3"> or select the link <quote>Next</quote>,to see the turn of the basic functions of the program.
</para>
</section><!-- draw3-info-main -->
</chapter><!-- draw3-info -->

<chapter id="draw3-base">
<title>Basics of the program</title>

<section id="draw3-base-toc">
<title>Chapter Contents</title>
<para></para>
</section> <!-- draw3-base-toc -->

<section id="draw3-base-main">
<title>Here we go!</title>
<para>
This chapter describes:
<itemizedlist>
<listitem><para>how to run the Draw 3 - <xref linkend="draw3-base-run"></para></listitem>
<listitem><para>which is visible in the main window browsing - <xref linkend="draw3-base-win"></para></listitem>
<listitem><para>you are interested in how to choose a set of charts - <xref linkend="draw3-base-charts"></para></listitem>
<listitem> <para> how to change the scope of the medium - <xref linkend="draw3-base-range"> </para> </listitem>
<listitem> <para> how to navigate the charts - <xref linkend="draw3-base-graphsnavigation"> </para> </listitem>
<listitem> <para> how to use tabs and windows - <xref linkend="draw3-base-tabs"> </para> </listitem>
<listitem> <para> you are interested in how to print charts - <xref linkend="draw3-base-prints"> </para></listitem>
</itemizedlist>
</para>
</section> <!-- draw3-base-main -->

<section id="draw3-base-run">
<title>Starting the program</title>
<para>
Typically, you will run the program Handle ± c the program SZARP Control Center (SCC). Just click the left mouse button on the icon and choose an interesting SCC us heating plant or substation (more information about SCC can see the <ulink url = "http://szarp.org/szarp/doc/scc/html/scc.html">Control Center SZARP</ulink> [<ulink url="http://szarp.org/szarp/doc/pdf/scc-article.pdf"> pdf </ulink>]). The start (here on Linux) is shown below:
<figure><title>SZARP Control Center - launch the viewer (Linux)</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-scc.png"></imageobject>
</mediaobject></figure>
<note>
<para>
To start the program browsing, you need to have access to data that will be displayed in him. You can download the data to a disk with data synchronizer (more on synchronization in a document file synchronizer <ulink url="http://szarp.org/szarp/doc/ssc/html/ssc.html">File synchronizer</ulink>), or log the system that the data is stored. You can login to the system directly (running Linux), or (in the case of Windows) using X-terminal emulator (such as Cygwin). SCC program automatically displays the names of all the heat (or other objects) for which data are available.
</para>
</note>
</para>
<para>
During the start Draw 3 reads configuration operates a database query and displays its main window. At the time display window with a progress bar:
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-progress.png"></imageobject>
</mediaobject>
</para>
<para>
To see the support the basic functions of the program, go to <xref linkend="draw3-base-win">.
<note><para>
See also <xref linkend="draw3-ext-cmd"> to learn how to start
program from the command line. </para> </note>
To complete the program, close the window, select
<guimenuitem> Close </guimenuitem> <guimenu> File menu </guimenu> or click on the icon with the door located on the bottom of the window.
</para>

</section> <!-- draw3-base-run -->

<section id="draw3-base-win">
<title>The main window</title>
<para>
The figure below shows the main window of the program:
<figure> <title>The main window</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-win.png"></imageobject>
</mediaobject>
</figure>
</para>

<para>
The main part of the window is the window graphic charting parameters (for more <xref linkend="draw3-base-graphsnavigation">). These graphs are described and marked on the right side (the current time). Below is a list of parameters box type of medium (see <xref linkend="draw3-base-range">) and a set of graphs.
</para>
<para>
At the graphical window contains information on the parameter values at which the cursor is currently located:
<itemizedlist>
<listitem> <para> or average sample value </para> </listitem>
<listitem> <para> save the date sample / medium </para> </listitem>
<listitem> <para> minimum, average and maximum value for a time on the screen </para> </listitem>
<listitem> <para> percent of the samples for the presence of the graph </para>
<note> <para> SZARP system writes the data to the database every 10 minutes. Looking at a chart of values for the year, we see only the monthly average. If, for example as a result of failure in one of the months in the database is stored in only one sample, the program will show the average monthly equal to the value of the sample, but not necessarily be representative for the whole month. The percentage of occurrence of samples significantly less than the length of the resulting visually in the chart suggests that you have to deal with such a situation, the calculated mean values should be treated with caution. </Para> </note>
</listitem>
</itemizedlist>
and shortcut icons:
<itemizedlist>
<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-about_icon.png"></imageobject></inlinemediaobject> - About - information about the program viewers</para></listitem>
<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-find_icon.png"></imageobject></inlinemediaobject> - Find - search sets of graphs - more <xref linkend="draw3-base-charts"></para></listitem>
<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-plus_icon.png"></imageobject></inlinemediaobject> - Summary Window - more <xref linkend="draw3-ext-summaryvalues"></para></listitem>
<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-split_icon.png"></imageobject></inlinemediaobject> - Split cursor - more <xref linkend="draw3-ext-doublecursor"></para></listitem>
<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-filtericon.png"></imageobject></inlinemediaobject> - Filter - more <xref linkend="draw3-ext-filter"></para></listitem>
<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-refresh_icon.png"></imageobject></inlinemediaobject> - Refresh - more <xref linkend="draw3-ext-refresh"></para></listitem>

<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-tree_icon.png"></imageobject></inlinemediaobject> - Tree Set - a window displaying segregated sets of graphs</para></listitem>

<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-data_icon.png"></imageobject></inlinemediaobject> - Go to latest date - set the cursor on the latest </para></listitem>

<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-remark_icon.png"></imageobject></inlinemediaobject> - Remarks - shows remarks for the current configuration - more <xref linkend="draw3-ext-remarks"></para></listitem>
<listitem><para><inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-exit_icon.png"></imageobject></inlinemediaobject> - Quit - exit the program</para></listitem>
</itemizedlist>
</para>
<para>
It is possible to display the window in full screen mode. To activate this mode, choose  <guimenu>View </guimenu> and <guimenu>Full Screen</guimenu> or use the function key <keycode>F11 </keycode>. In the same way, you can exit full screen mode.
</para>
</section><!-- draw3-base-win -->

<section id="draw3-base-charts">
<title>Choice of plots </title>
<para>
Parameters in the charts are divided into sets, including related parameters
subject and displayed in relation to the time on the screen. Name of the currently displayed
set is shown in the upper left corner of the window, next to the abbreviated names of graphs. In addition, in the lower right corner of the window is a box set - displays the name of the current
display system and allows it to change - when you click the mouse developed a list
all available kits.
</para>
<para>
You also have the option to select a set of graphs by a mechanism
searcher, which is available when you press <keycode>Alt +Z </keycode>.
Thus open the window shown below:
<figure><title>Find a set of graphs</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-charts.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
If you know at least part of the name of a set of graphs that interests you, you can enter it in the
the box above the list of parameters. Thanks to this list will automatically shorten the
showing only sets with the name you entered in the string. zip
on the right side you can scroll through the list of graphs.
<guibutton>Reset</guibutton> delete typed string.
</para>
<para>
After selecting a set of click <guibutton>OK</guibutton>.
</para>
</section> <!-- draw3-base-charts -->

<section id="draw3-base-find-parameter">
<title>Search parameters charts</title>
<para>
In addition to searching for a set of graphs (more <xref linkend="draw3-base-charts">), you can also find a chart of individual parameters. To do this, select the menu <guimenu>Tools</guimenu> and <guimenu> Search</guimenu> (you can also use the keyboard shortcut <keycode>Ctrl + F</keycode>). A new window will appear listing all the parameters, the corresponding sets of graphs and field names to filter results:
</para>
<para>
<figure><title>Search graph of the selected parameter</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-find_parameter.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
Once you have selected the program will display the parameter looking for the right set of graphs.
</para>
</section> <!-- draw3-base-find-parameter -->

<section id="draw3-base-range">
<title>Select the type of medium</title>
<para>
The data in the graphics window are displayed in one of the modes:
<itemizedlist>
<listitem><para><emphasis>DECADE</emphasis> - shows the annual average - the screen shows the average of 10 years</para></listitem>
<listitem><para><emphasis>year</emphasis> - shows the monthly average - the screen shows the average of the year</para></listitem>
<listitem><para><emphasis>MONTH</emphasis> - shows the average daily - the screen shows the average of the month</para></listitem>
<listitem><para><emphasis>WEEK</emphasis> - shows average eight hours (after 3 per day) - the screen shows the average of the week</para></listitem>
<listitem><para><emphasis>DAY</emphasis> - shows the mean of 10 minutes, the screen
shown are the average of the day. In this mode it is possible to move the cursor to 6 samples
(one hour), if the time you press the arrow key<keycode>Shift</keycode> 
(other keyboard shortcuts can be found in <xref linkend="draw3-ext-shortcuts">).
</para></listitem>
<listitem><para><emphasis>30 MINUTES</emphasis> - shows a sample 10-second - the screen shows a 10-second sample of 30 minutes</para></listitem>
<listitem><para><emphasis>SEASON</emphasis> - shows the average weekly - the screen shows the average of the entire season</para></listitem>
</itemizedlist>
All modes, except for the day, show the limits of seasons (red - the beginning of the summer season, blue - the beginning of the winter season).
You can switch between the types of schools:
<itemizedlist>
<listitem><para>clicking the mouse on the appropriate mode</para></listitem>
<listitem><para>using the keyboard shortcut:<keycode>Alt</keycode> + the first kind
average (np. <keycode>Alt+M</keycode> for the month)</para></listitem>
<listitem><para>selecting from the menu:<guimenu>View</guimenu> and then from the drop down menu 
<guimenu>Average type</guimenu>appropriate position</para></listitem>
</itemizedlist>

</para>
</section> <!-- draw3-base-range -->

<section id="draw3-base-graphsnavigation">
<title>Navigation charts</title>
<para>
After the graphs you can move with the mouse (by clicking on the specific chart), or by using the keyboard. The current position is highlighted by the cursor - white square.
Arrows "right" and "left" move the cursor to the current chart, while pressing
arrow keys "up" and "down" to change the current plot to the next / previous
in the set. <keycode> Keys PgUp </keycode> and <keycode> PgDown </keycode>
You can move the chart by the length of one screen to the left and right.
</para>
<para>
You can also use the mouse to quickly scroll through charts. Clicking once on the edge of the graphics window move the cursor one position to the right or left. Using double click move the cursor on the length of the screen.
</para>
<para>
In order to better transition to the dates you are interested you can seize the opportunity to jump into the selected date. To do this, select the menu <guimenu>Tools</guimenu> and <guimenu>Jump the date</guimenu> or use the keyboard shortcut <keycode>Ctrl + J</keycode>. In this way, display the window:
<figure><title>Navigation - jump at the date of</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-jump2date.png"></imageobject>
</mediaobject>
</figure>
It will allow you to quickly move the cursor into an interesting date.
</para>
<para>
If you know that the moment you return to a specific location chart, you can use the copy location. This will allow you to come back in a short time in the stored position. To do this, select the menu  <guimenu>Tools</guimenu> and location <guimenu>Copy</guimenu> or use the keyboard shortcut <keycode>Ctrl + C</keycode>. To return to this place from the menu select <guimenu>Tools</guimenu> and <guimenu>Paste location</guimenu> or use the keyboard shortcut <keycode>Ctrl + V</keycode>.
</para>
<note>
<para>
Copied location can also be used outside of viewers. For example, you can paste it into the e-mail as to indicate a point of interest to another person on the chart parameters.
</para>
</note>
<para>
Each of the charts you can print what you read in the chapter <xref linkend="draw3-base-prints">.
</para>
</section> <!-- draw3-base-graphsnavigation -->

<section id="draw3-base-hidegraphs">
<title>Blanking and display charts</title>
<para>
Chart you can extinguish except for the display - in this, click on the checkbox
placed next to the number and the title of the chart. When you click the graph disappears from the graphics window,
re-click restore to display the chart. It is not possible extinction of the graph,
where the cursor is currently located.
</para>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-extinction.png"></imageobject>
</mediaobject>
<para>
Blanking charts can be used to enhance the readability of the presented data,
besides, when printing from printed charts are only dimmed
(more about the prints <xref linkend="draw3-base-prints">).
</para>
<para>
Fade charts is remembered when you change a set of charts - after returning to the set
charts graphs selected by you will remain off.
</para>
</section> <!-- draw3-base-hidegraphs -->

<section id="draw3-base-prints">
<title>Print</title>
<para>
A set of charts in Draw 3 can be printed by using a combination of <keycode>Ctrl + P</keycode> 
or choose from the menu <guimenu>File</guimenu> and <guimenu>Print</guimenu>. 
The output will be a time range visible at any given time in the third Draw 3.
</para>
<para>
All graphs are printed on its vertical axis Y, together with the described units. Under
graph provides information about the parameters (values: maximum, minimum and
average) and the graph (node name, the name of the parameter set, the selected data and the period of
Display type of medium, eg one month).
</para>
<para>
In the print options you can select the number of printed Y-axis - from the menu
<guimenu>Tools</guimenu>, <guimenu>Settings</guimenu> and 
<guimenu>Number of printed axes</guimenu> or use the shortcut <keycode>Ctrl + X</keycode>.
</para>
<note>
<para>
The printout does not appear dimmed graphs (charts of extinction - <xref linkend="draw3-base-hidegraphs">).
</para>
</note>
<para>
Before printing can view a preview - the menu, select <guimenu>File</guimenu>
and then <guimenu> Print preview </guimenu>.
</para>
</section> <!-- draw3-base-prints -->

<section id="draw3-base-tabs">
<title>Tabs and windows</title>
<para>
While working, you can view data in several windows and / or more tabs. This allows you to
view of your data and compare charts without the need for multiple selection set.
Bookmark the design of web browsers are open simultaneously, within a single window
Draw 3.
</para>
<para>
The new window can be opened by keyboard shortcut <keycode> Ctrl + N </keycode> or
choosing<guimenu>File</guimenu> command <guimenu> Open new window </guimenu>.
You can open a new tab by keyboard shortcut <keycode> Ctrl + T </keycode> or
choosing <guimenu>File</guimenu> command <guimenu>Open new tab</guimenu>.
</para>
<para>
When you open a new window or tab will be asked to choose the configuration to
loading.
</para>
<para>
<figure> <title>Open new tab</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-tabs1.png"></imageobject>
</mediaobject></figure>
</para>
<para>
When you open more than one tab in the menu bar appears bookmarks and (right
side, the names of the parameters) field switch between tabs.
When you create multiple tabs, also the arrows to move the tab bar.
<figure><title>Tabs in the menu</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-tabs2.png"></imageobject>
</mediaobject></figure>
</para>
<para>
To switch the currently displayed, you can use the above-mentioned fields, a combination of keys
<keycode> Ctrl + PgUp </keycode> and <keycode> Ctrl + PgDown </keycode>
or click on the title of the selected tab.
</para>
<para>
To close the currently visible tab, click on the X to the right of the
name of the bookmark, use the keyboard shortcut  <keycode>Ctrl +W</keycode> or select from the menu
<guimenu>File</guimenu> and then <guimenu>Close tab</guimenu>. The current window
Draw 3 can close using the key combination <keycode>Ctrl + Q</keycode> by clicking on the
cross closing the window or by choosing  <guimenu>File</guimenu> and then
<guimenu>Close</guimenu>. After confirmation window will be closed.
</para>
</section> <!-- draw3-base-tabs -->

<section id="draw3-base-help">
<title>Help and context-sensitive help in Draw3</title>
<para>
The program offers two ways of reading the documentation used: normal (ie through
the inclusion of a separate window displaying this document) and the so-called. help
context. To read the documentation Draw3 program, select
<guimenu>Help</guimenu><guimenu>Help</guimenu> or use the keyboard shortcut <keycode>F1</keycode>.

<figure>
<title>Help in Draw3</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-help.png"></imageobject>
</mediaobject></figure>
</para><para>
Context-sensitive help to display the description for the selected item and opens the Draw3
documentation in place. If you want to see a description of the choice of type of medium,
from the menu, select <guimenu>Help</guimenu>, then <guimenu>Context help</guimenu> or use
shortcut <keycode>Shift + F1</keycode> (the cursor will change its appearance). Then click on
place of choice for medium-sized, and then open the documentation in the expected place.
<figure>
<title>Context help Draw3</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-help2.png"></imageobject>
</mediaobject></figure>

</para>
</section> <!-- draw3-base-help -->

<section id="draw3-base-about">
<title>About the program</title>
<para>
To view information about viewers (version, authors, license)
click <inlinemediaobject><imageobject><imagedata
			fileref="pics/draw3-about_icon.png"></imageobject></inlinemediaobject>
on the toolbar, select from the menu <guimenu>Help</guimenu> and
<guimenu>About</guimenu>or use the keyboard shortcut<keycode>F2</keycode>
</para>
</section> <!-- draw3-base-about -->

</chapter> <!-- draw3-base -->

<chapter id="draw3-ext">
<title>Advanced topics</title>

<section id="draw3-ext-toc">
<title>Table of Contents</title>

<para></para>
</section> <!-- draw3-ext-toc -->

<section id="draw3-ext-refresh">
<title>Refreshing charts</title>
<para>
The program is able to independently decipher browsing the changing graphs (eg in the case of new data) and display them in the charts. However, if for some reason you want to refresh drawn charts, choose <guimenu>View</guimenu> and <guimenu> Refresh </guimenu>, use the keyboard shortcut <keycode>Ctrl +R</keycode> or click <inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-refresh_icon.png"> </imageobject></inlinemediaobject> on the toolbar at the bottom of the screen.
</para>
</section> <!-- draw3-ext-refresh -->

<section id="draw3-ext-blockgraphs">
<title>Block charts</title>
<para>
If you want to compare values from different periods of time (eg, temperature control from March to April, the reference temperature), use the function block diagram. Right-click on the title of the chart and select <quote>Chart locked</quote>. On the set of graphs shown below is the chart locked "Temp. return":
<figure><title>Block charts</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-blockgraph.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
To block chart you can also use the keyboard shortcut <keycode>Ctrl + B</keycode>.
</para>
<para>
When you move the time from February to January, chart "Temp. Return" (marked in yellow) has not changed its position (note that the name of chart appeared locked postscript
<figure><title>Locked chart</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-blockgraph2.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
If you block a few charts and you slide the cursor to the unlocked chart,
all blocked charts will not move. When you move the cursor to the
chart locked remaining graphs, including other blocked, do not move.
</para>
<para>
Block charts can also be used to compare the values on the same chart
different time periods. You create your own set of parameters
(more about creating your own set: <xref linkend="draw3-ext-chartset">) and add to it
two times the same parameter.
</para>
</section> <!-- draw3-ext-blockgraphs -->

<section id="draw3-ext-doublecursor">
<title>Split cursor</title>
<para>
Split mode the cursor allows you to select a portion of the graph. All presented
the program data - such as minimum, maximum, average and total value - will address
only a selected portion of the graph.
</para>
<para>
In order to run Split cursor set the cursor at the beginning of the period that interests you.
Then turn the Split cursor - use the shortcut <keycode>Backspace</keycode>, choose from the menu
<guimenu>Tools</guimenu> and <guimenu>Split cursor</guimenu> or click on the icon
<inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-split_icon.png"></imageobject></inlinemediaobject> on the toolbar.
During the current Split cursor chart is bold and below the window with graphs will be a new line of data on the end of the selected period:
<figure>
<title>Split cursor</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-doublecursor.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
Use the arrow keys up and down you can change the chart on which the split cursor.
</para>
<para>
With Split cursor mode you can go again with one of the options to run it
(ie choosing <guimenu> View </guimenu> and <guimenu> Split cursor </guimenu>
by clicking on the icon on the toolbar or use the keyboard shortcut
<keycode>Backspace</keycode>).
Also, changing the type of output will average Split cursor mode.
</para>
</section> <!-- draw3-ext-doublecursor -->

<section id="draw3-ext-summaryvalues">
<title>Summary window</title>
<para>
The program allows you to view the sum of the parameters for the selected time range.
Aggregation is active only for some parameters - where it makes sense and is a physical
integration is implemented as a discrete graph. For example, if we plot the boiler output
(ie energy/time), the sum will show us the amount of energy produced.
</para>
<para> Summation window for the selected set of charts turn by choosing
<guimenu>View</guimenu> and <guimenu>Summary window</guimenu>, by ckicking the icon
 <inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-plus_icon.png"></imageobject></inlinemediaobject> 
on the toolbar or use the keyboard shortcut <keycode>Ctrl + G</keycode>. A window with the calculated sum scores, for example: 
</para>
<para>
<figure>
<title>Summary window</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-summary_values.png"></imageobject>
</mediaobject></figure>
In the visible the abbreviated name of the parameter and value displays the total for the period.
Totals are calculated in real time based on parameter values shown on the
the screen. So are recalculated when you change the scope of the medium (eg from month to
week) or move the plot. To sum up just a fragment of chart, you can
use a dual cursor mode - see: <xref linkend="draw3-ext-doublecursor">.
</para>
<para>
When you move the mouse over the selected parameter in the sum will be information about the full
parameter name, parameter aggregation period and the percentage of samples that contain data.
<figure>
<title>Summary window - additional information</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-summary_values2.png"></imageobject>
</mediaobject></figure>
</para>
<note>
<para>
Because the values are added together for a period of time, individuals are subject to change totalized value. For example, instead <quote>kW</quote> occurs <quote>kWh</quote>, in place of <quote>z³/h</quote> - <quote>z³</quote>, <quote>MW</quote> - <quote>GJ</quote>, <quote>mg/m3</quote> - <quote>mg/m3*h</quote>.
</para>
</note>
<para>
If there is no current set of charts, for which it can be calculated the total value, a message appears: <quote> This window contains no charts, for which totals are calculated </quote>.
</para>
</section> <!-- draw3-ext-summaryvalues -->

<section id="draw3-percentagedistribution">
<title>Pie window</title>
<para>
The program allows you to view chart reading of the percentage distribution of the parameters. It is calculated on the basis of the distribution of parameter values for the selected type of medium (eg, average weekly). To view a graph of the distribution percentage, choose <guimenu>View</guimenu> and <guimenu>Pie window</guimenu> (or use the keyboard shortcut  <keycode>Ctrl + Alt + S</keycode>). In the case where the selected set of charts can not be displayed percentage distribution of the parameters, a window with the appropriate information.
<figure>
<title>Pie window</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-piechart.png"></imageobject>
</mediaobject></figure>
</para>
</section> <!-- draw3-percentagedistribution -->

<section id="draw3-ext-valuesratio"> 
<title>Ratio window</title>
<para>
Several sets of charts allows you to calculate the ratio of the charts. The calculation can start by choosing <guimenu>View</guimenu> and <guimenu>Ratio window</guimenu>. For calculation sets the ratio of the offering additional window is displayed, as shown in the following image:
<figure> <title>Ratio window</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-valuesratio.png"></imageobject>
</mediaobject></figure>
</para>
<para>
The ratio is calculated values for all samples visible in the graphs. In order to obtain relative values for different range of data, use the cursor 
divided into two (more on Split cursor - <xref linkend="draw3-ext-doublecursor">).
</para>
<para>
The ratio value is calculated based on the average of the samples selected time (eg, month). You can switch between the average timing, but remember that this will leave the Split cursor  mode.
</para>
</section> <!-- draw3-ext-valuesratio -->

<section id="draw3-ext-meanvalues">
<title>The average values of the parameters</title>
<para>
In Draw 3, you can get information about the core values of the statistical parameter. Use
to the list of "Average values". It shows the average, minimum, maximum, and
(if the selected parameter that makes sense) the total value of the specified period of time.
</para>
<para>
To open the window with the averages, select <guimenu> File </guimenu> and <guimenu> Values
Medium </guimenu>. By default, the chart to calculate the average, will be selected first working graph of the current system. Also, by default, the time range will be set on the basis of the current system. Of course, you can change the chart and the time span before the calculations. After setting all values click <guibutton> OK </guibutton>. In the <emphasis> Values </emphasis>
appear in the calculated values for a given parameter.
</para>
<para>
<figure> <title>The graph of the average</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-mean_values.png"></imageobject>
</mediaobject></figure>
</para>
<para>

</para>
</section> <!-- draw3-ext-meanvalues -->

<section id="draw3-ext-chartxy">
<title>The relationships between parameters - graph XY</title>
<para>
In Draw 3, you can specify the correlation of selected parameters. They are used for the charts XY.
You can create one by choosing <guimenu>File</guimenu> and <guimenu>XY</guimenu>.
By default, the graphs X and Y will be selected first two charts dimmed with the current system. Also, the time range is set to that of the current system.
<figure>
<title>Create a chart XY</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-xy1.png"></imageobject>
</mediaobject></figure>
In the next chart XY, the right of the page, are placed more detailed information on the parameters shown in the graph:
<itemizedlist>
<listitem><para>value at the selected point chart</para></listitem>
<listitem><para>the minimum, average and maximum in the given period of time</para></listitem>
<listitem><para>standard deviation</para></listitem>
<listitem><para>correlation between XY - shows the Pearson correlation coefficient - this ratio is set to the proximal 1 or -1, the more the parameter X-values are linearly dependent on the value of the parameter Y</para></listitem>
<listitem><para>The ranked correlation XY - The ranked correlation between the value the greater the more the values of the X and Y satisfy the relation monotonicity, so the more the condition that the increase in the value of the parameter X is accompanied by increase in the value of the parameter Y. The ranked correlation measures the more general relationship between X and Y parametarmi than Pearson's coefficient of correlation the ranked as adopted by a large enough value to increase the value of one parameter accompanied by any increase in the value of the second parameter, in the case of Pearson's coefficient also increase must be linear</para></listitem>
<listitem><para>date range for which you create a chart XY</para></listitem>
<listitem><para>number of samples that are displayed in the desired location on the chart</para></listitem>
<listitem><para>a list of the above mentioned samples</para></listitem>
</itemizedlist>
Use the mouse or the arrow keys you can move between successive points
graph.
</para>
<para>
<figure> 
<title>Chart XY</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-xy2.png"></imageobject>
</mediaobject></figure>
</para>
<para>
If the definition of an XY chart averaging the values you choose, you get a graph similar to the following:
</para>
<para>
<figure> <title>Chart XY - averaged values</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-xy3.png"></imageobject>
</mediaobject></figure>
</para>
<para>
<emphasis>Note!</emphasis>If you select the wrong period of time (for example, you will want to plot the data for the next month), the program will inform you of the error message: <quote> lack of common data for selected charts in a given period of time </quote>.
</para>
<para>
Parameters of chart XY can be changed by choosing <guimenu> Chart </guimenu> and then
<guimenu> Change the parameters of chart </guimenu>. You can also quickly create a set of
comprising forming a graph charts X / Y using the
<guibutton> Go to chart </guibutton>. Kit can save and edit
as a set of user parameters (more <xref linkend="draw3-ext-chartset">).
</para>
<para>
It is possible to increase or decrease the scale of the graph. To this end, the chart window XY while holding the right mouse button, select your area of interest and release the button:
<para>
<figure> <title> Chart XY - scaling chart </title>
<mediaobject>
<imageobject> <imagedata align="center" fileref="pics/draw3-xy4.png"> </imageobject>
</mediaobject></figure>
</para>
<para>
To return to the original scale choose <guimenu> Graph </guimenu> and <guimenu> Zoom graph </guimenu> or use the keyboard shortcut <keycode> Ctrl +- </keycode>.
</para>
<para>
XY charts can be printed by choosing <guimenu>File</guimenu> and
<guimenu> Print </guimenu> or using the keyboard shortcut <keycode>Ctrl + P</keycode>
(more of the same print you can read in Chapter <xref linkend="draw3-base-prints">).
In print, in addition to the chart, are also described parameters describing the plot.
</para>
<para>
Option <guimenu> Averaging value </guimenu> introduced for compatibility with previous
version of the viewer. It causes a breakdown of the range of values
chart horizontal (X axis) for up to 24 areas in which the value of Y are averaged.
</para>
</section> <!-- draw3-ext-chartxy -->

<section id="draw3-ext-chartxyz">
<title>The relationships between parameters - XYZ chart</title>
<para>
Extension of XY charts are graphs XYZ. XYZ charts show the relationship between
values of the three parameters simultaneously. For a given period of time and the average program
draw3 collects three values of selected parameters for each of the points in time of the given
interval (eg, for an average day will be a medium for each hour of the selected
range). Yes selected three of the points in the three-dimensional space
underlying the chart being built. These points are then spread on the grid 24 to 24
mesh points are points generate chart with coordinates Xo, YSR, Yo. where
Xo and Zo respectively, x and z coordinates of the center of the eye, and the average value of YSR
s which contain all the points in the mesh (the averaging equivalent in
for the XY chart). 3D charts are two forms - point and "Surface", the chart
point is one in which draw3 rysje just the chart, and the chart "plane"
is a graph in which the same program in addition to the triangulation of these points draw
points (at any time while watching chart you can switch between
the two modes by pressing the <keycode>space bar</keycode>.
To view a chart XYZ choose <guimenu> File </guimenu> option <guimenu> Chart XYZ </guimenu>.
When selected, you will see a window to select the parameters, and the time range from which you want to retrieve the value. This window is very similar to the corresponding window for XY charts. As in the case of a two-dimensional chart, the default field values are obtained from the present system.
<figure>
<title>Create a chart XYZ</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-xyz1.png"></imageobject>
</mediaobject></figure>
</para>
<para>
If you specify parameters and the time interval, press the OK button. This should retrieve data from the database and open graph window.
</para>
<para>
At the top of the window there is a menu <guimenu> Chart </guimenu> of options allowing you to: modify the parameters 
at a time graph, chart printing, print preview, page setup, closing the current window and menu <guimenu> Help </guimenu>.
</para>
<para>
Below you will find the main part of the menu window containing the relevant graph. In the upper left corner of the window is displayed
akutalnej information about the cursor position. The cursor is represented on the graph as a white cube, whose position can be changed using the cursor keys.
You can also make setting the cursor on a specific point, that point by clicking the left mouse key.
<figure>
<title>Chart XYZ</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-xyz2.png"></imageobject>
</mediaobject></figure>
</para>
<para>
The chart you can move (changing the position of "point of view" of the observer) using the following keys:
<itemizedlist>
<listitem><para><keycode>w</keycode> - move forward</para></listitem>
<listitem><para><keycode>s</keycode> - move back</para></listitem>
<listitem><para><keycode>a</keycode> - move left</para></listitem>
<listitem><para><keycode>d</keycode> - move right</para></listitem>
<listitem><para><keycode>q</keycode> - move up</para></listitem>
<listitem><para><keycode>e</keycode> - ruch down</para></listitem>
<listitem><para><keycode>Shift + w</keycode> - rotation direction of view to top</para></listitem>
<listitem><para><keycode>Shift + s</keycode> - rotation direction of view to down</para></listitem>
<listitem><para><keycode>Shift + a</keycode> - rotation direction of view to the left </para></listitem>
<listitem><para><keycode>Shift + d</keycode> - rotation direction of view to the right </para></listitem>
</itemizedlist>
The movement back and forth can also be done using the mouse wheel (for latopie the same effect can cause
sliding your finger along the right edge of it.
</para>
<para>
In addition to changing the position observer you can also rotate the graph. To rotate the graph, press and hold the right mouse button, and then start
move the mouse pointer. Mouse movement in the vertical direction causes rotation of the X axis chart, and mouse movements in a horizontal direction rotation chart
about the axis Y.
</para>
</section> <!-- draw3-ext-chartxyz -->

<section id="draw3-ext-filter">
<title>Filter</title>
<para>
The program allows averaging of adjacent samples -
filter function. Filter is used to smooth charts for easy designation
trend charts by eliminating the significant changes in the instantaneous (ie peak).
</para>
<para>
Averaging is calculated separately for each sample and is described by the formula:
<programlisting>
after using the filter value = (value of the current sample sum of n + samples before the samples in the current sample) / (2 * n + 1),
</programlisting>
where n is the degree of the filter (in the range of 0 to 5).
</para>
<para>
From this formula it follows that, for example for the filter of the first degree, the current sample value is the arithmetic mean of the sample and of a sample prior to and one occurring after the current sample.
</para>
<para>
The default level is 0 for filtering, the value of the same sample.
</para>
<para>
To change the filter level from the menu select  <guimenu> Tools </guimenu>
<guimenu> Settings </guimenu> <guimenu> Filter </guimenu> and then the degree of the filter.
Set the filter can also be made using the keys <keycode> A </keycode> <keycode> B </keycode> <keycode> C </keycode> <keycode> D </keycode> <keycode> E </keycode> and <keycode> F </keycode>, which sets the degree of the filter, respectively, from 0 to 5
You can also change the filter settings using the icon
<inlinemediaobject> <imageobject> <imageData
                         fileRef = "pics/draw3-filtericon.png"> </imageobject> </inlinemediaobject>
on the toolbar.
<figure>
<title>Choice of filtering samples</title>
<mediaobject>
<imageobject> <imagedata align="center" fileref="pics/draw3-filter.png"> </imageobject>
</mediaobject>
</figure>
</para>
<para>
To disable the filter, set the filter level on the value <quote> 0 </quote>.
</para>
</section> <!-- draw3-ext-filter -->

<section id="draw3-parameter-documentation">
<title>Cumentation parameter<para>
The program provides an opportunity to see browsing the technical documentation for the defined parameters and their graphs. This documentation explains what the selected parameter and how it is calculated (for the parameters depend on the values of other parameters).
</para>
<para>
To view the technical parameter, use the keyboard shortcut <keycode>Ctrl + H</keycode> or right-click on the title of chart (on the right side of the window) and select <quote>parameter documentation</quote>, as it is shown below:
<figure><title>Documentation parameter</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-blockgraph.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
The result of the call parameter documentation will open in your default web browser, which contains a description of the parameter.
</para>
</section> <!-- draw3-parameter-documentation -->

<section id="draw3-ext-languages">
<title>Changing the language Draw3</title>
<para>
When you first start Draw3 or when the language has never been selected, the default language is the language <quote>automatic</quote> - used in the system.
Draw3 The program allows you to change the language in which they are displayed as messages and menus
program and parameter names. Parameter names are translated dynamically based on a special dictionary (if the parameter name does not appear in the dictionary, it displays the parameter name untranslated).
</para>
<para>
In order to change the language of menu <guimenu>Tools</guimenu>,
<guimenu>Settings</guimenu> and <guimenu>Languages</guimenu>. A window will appear where you can change the language used in the
the program. If you select a specific language such as Polish, Draw3 program will translate all the menus and messages into Polish, even if the system default is set to a different language. Selects the language <quote> automatic </quote> will that language will always respond to that which is selected in the system.
<figure>
<title>Changing the language in the Draw3</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-language.png"></imageobject>
</mediaobject></figure>
</para>
<para>
After each change the language, you must restart the program.
</para>
</section> <!-- draw3-ext-languages -->

<section id="draw3-ext-chartset">
<title>Own set of charts</title>
<para>
The program can create their own set of graphs. To do this, select the menu <guimenu> Sets </guimenu> and <guimenu> New set </guimenu> or press <keycode> Ctrl + A </keycode>. The following window will appear:
<figure> <title>Editing charts set</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-chart_set.png"></imageobject>
</mediaobject></figure>
</para>
<para>
At the top of the dialog box, type the title of a new set. After pressing the Insert Chart <guibutton> </guibutton> You can insert a chart into your set of graphs. The following window will appear:
<figure> <title>Selection chart</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-chart_set2.png"></imageobject>
</mediaobject></figure>
</para>
<para>
If you know the name of the chart you are looking for, you can enter it in the box above the list
parameters. Thanks to this list will automatically shorten showing only the parameters with
the name you entered in the string.
</para>
<para>
When you select a chart, click <guibutton> OK </guibutton> to end the search chart and
add it to your own set.
</para>
<para>
You can also choose one of the self-defined parameters (adding and editing
parameters - read <xref linkend="draw3-ext-parametersset">). For this purpose, in the
<quote> Editing parameter set </quote> click <guibutton> Add Parameter </guibutton>.
<quote> Window opens the user parameter list </quote> with defined by you
parameters. If no parameters have been created by you, the list will be empty.
In the case of a long list of parameters, you can make it easier to search by typing
looking for a string in the <quote> Search field </quote>. The window with the defined parameters
may look something like the screenshot below:
<figure> <title>User parameter list</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-chart_set2_1.png"></imageobject>
</mediaobject></figure>
</para>
<!-- SUBSECTION dodawanie wykresu do w³asnej listy wykresów -->
<para>
If you choose one of the self-defined parameters, click <guibutton>OK</guibutton> (or double-click on its name) to add it to your own set of graphs. Then enter the name of the short, minimum and maximum values, consider whether the value of the parameter is to be summed hourly (if so, check the box at the bottom of the window) and select a color chart display by clicking on the <guibutton>Select Color</guibutton>.
</para>
<!-- SUBSECTION zmiana kolejno¶ci wy¶wietlania wykresów -->
<para>
After adding a few charts to your own set, you can set the order. You can do this on
two ways: click on the arrows (up or down) placed in the next
button <guibutton>Insert Chart</guibutton> or right-click on a row of
selected parameter and select the shift direction graph.
</para>
<para>
After right-clicking on the row of the selected parameter, you can also remove the display
parameter of a set of graphs, edit the chart (color, range of value) or edit
same user parameter:
<figure> <title>Edit your own set of parameters</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-chart_set6.png"></imageobject>
</mediaobject>
</figure>
</para>
</section> <!-- draw3-ext-chartset -->


<section id="draw3-ext-change-point-meaning">
<title>Changing the type of the value represented by the point</title>
<para>
The standard by every point on the graph corresponds to the average value
parameter from the time represented by this point. This can be changed so
to each point corresponds to:
<itemizedlist>
<listitem><para>
The final value of the period represented by the point (like the
Annual screen each point will represent the value of the parameter of last
day of the month 23:50 hours)
</para></listitem>
<listitem><para>
The difference between the last and the first value in the 10-minute sample for the period
represented by point (e.g., for a year will be the difference between the
from 23:50 on the last day of the month and 0:00 of the first day of the month)
</para></listitem>
</itemizedlist>
Change this setting to make the context menu
right click on this parameter in the parameter list. Main
sense of the existence of this option is that for some parameters more
interesting from that which was the average value of a parameter in a given period,
This is the value accepted this parameter, eg at the end of the month or
provided that in the period parameter value has increased. This is particularly useful
for parameters representing different kinds of counters.
</para>
<para>
<figure><title>Changing the type of the value represented by the point</title>
<mediaobject>
<imageobject><imagedata scale="45" align="center" fileref="pics/draw3-change_value_type.png"></imageobject>
</mediaobject>
</figure>
</para>
</section>

<section id="draw3-ext-parametersset">
<title>Define your own parameters</title>
<para>
Draw 3 program allows the user to define their own parameters using the formulas
LUA language. Created by myself
parameters you can add to your set of charts
(see: <xref linkend="draw3-ext-chartset">).
</para>
<para>
To define your own parameter choose <guimenu>Tool </guimenu> and then <guimenu>User parameters</guimenu> (you can also use the keyboard shortcut <keycode> Ctrl + U </keycode>). You will be following a new window:
<figure>
<title>The beginning of the creation of a formula parameter</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-parameters_set.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
Buttons <guibutton>New</guibutton>, <guibutton>Edit</guibutton> and <guibutton>Delete</guibutton>
used to create new, edit or delete an existing parameter. When creating or editing
parameter must specify:
<itemizedlist>
<listitem><para>
The name of the parameter - any string that identifies the parameter.
</para></listitem>
<listitem><para>
draw an average of the samples, or to use a formula computed averages.
</para></listitem>
<listitem><para>
Precision of the parameter (the number of decimal places).
</para></listitem>
<listitem><para>
Symbol of the parameter.
</para></listitem>
<listitem><para>
Optional - start date parameter-indicating the date from which to start searching. For example, for a fixed value of the parameter can not be numeric
an easy way to determine the extent to which the parameter is specified date - really
is defined for all dates. Giving advise starting date of the program, not to
looking for a parameter value before the specified date.
</para></listitem>
<listitem><para>
Base configuration parameter - for example, this configuration determines the date range in which it will
calculated parameter.
</para></listitem>
</itemizedlist>
<para>
values of other parameters. For more on this topic, see
<xref linkend="draw3-ext-luamath"> and in
<ulink url="http://szarp.org/szarp/doc/ipk/html/draw-definable-lua.html">documentation
SZARP technical system</ulink>.
</para>
<para>
When creating useful formulas are placed under the formula window buttons:
<itemizedlist>
<listitem><para>
<guibutton>&lt;</guibutton> undoes the last change in the formula.
</para></listitem>
<listitem><para>
<guibutton>&gt;</guibutton> repeats the last change formula.
</para></listitem>
<listitem><para>
<guibutton>+</guibutton>, <guibutton>-</guibutton>, <guibutton>*</guibutton>,
<guibutton>/</guibutton> - insert arithmetic operators.
</para></listitem>
<listitem><para>
<guibutton>&lt;W&gt;</guibutton> inserts a reference to the value of another graph.
</para></listitem>
<listitem><para>
<guibutton>&lt;P&gt;</guibutton>
inserts a reference to the value of another parameter
user.
</para></listitem>
</itemizedlist>
<para>
The following screenshot shows is the addition of a new enumerator parameter
<quote> arithmetic average return temperature of the network as </quote> and
<quote> water temperature at the output to the network </quote>.
<figure>
<title>Create your own parameters - the result of the creation of the formula</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-parameters_set3.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>

</para>
</section> <!-- draw3-ext-parametersset -->

<section id="draw3-ext-errorwindow">
<title>Message window</title>
<para>
In the case of error in the parameters defined formulas
user program displays the message window. It includes information
the incorrect formula. Same window as follows:
<figure>
<title>Message window</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-error_window.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
By default, a window appears in the case of an error. This can be changed (which is recommended) checking or unchecking the <quote>Show box automatically</quote>.
</para>
<para>
Use the <guibutton>Clear</guibutton> You can delete the list
messages, click <guibutton>Hide</guibutton> close the window.
</para>
</section> <!-- draw3-ext-errorwindow -->

<section id="draw3-ext-remarks">
<title>Comments</title>
<para>
Using the viewer can place and view comments - text messages assigned to a specific configuration, and when over time.
Comments are global in nature, created by you comments will be available for all users of the viewer, who also have
support for comments and the appropriate privileges allowing them to watch the comments for your system. The program browsing
distinguishes between two types of comments: relating to the system and the related set of graphs in a single system.
</para>
<section id="draw3-ext-remarks-configuration">
<title>Setting up comments</title>
<para>
<note>
<para>
If you do not installed SZARP system itself, but using it to heat or other place where the program was configured by the service,
presumably you have configured support for comments - you can skip this section.
</para>
</note>
Before you can use the comments you are reading program set up to send and receive them. To set up a comments
you need to know: server address comments and your username and password on the server. In order to obtain them, contact your IT department.
Then, in the <guimenu>Tools menu</guimenu> in the main window, in the sub-<guimenu> Settings </guimenu> click on <guimenu> Comments </guimenu>. The following window will appear transcript in which
you must enter the above information:
<figure> <title>Setting up comments</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-remarks_conf.png"></imageobject>
</mediaobject></figure>
After entering the settings, select Menu <guimenu>Comments</guimenu> -> <guimenu> Download Comments </guimenu> (located in the <guimenu> Tools menu </guimenu>), if properly
entered all the data, the program should download the new comments and display a message: "Download new comments" or
"No new comments" if you do not have any comments yet. Each of these two messages mean that the service comments
is configured correctly. In the event of any error message, make sure that certainly correctly entered
received data.
<note>
<para>
If communication is still not working, and you are sure that you correctly entered the server address, username, password
and your computer has access to the internet, check your firewall settings. Comments server uses port number 7998,
firewall must be configured to allow outbound connections on this port. If that fails - contact your IT department.
</para>
</note>
In the comments configuration option is also available "Download automatically comments" after the selected program automatically
will connect to the server and retrieve new comments without having to select the "Download Comments".
</para>
</section>
<section id="draw3-ext-remarks-browsing">
<title>View comments </title>
<para>
The list of comments relating to the currently viewed by you get the system you select <guimenu> Show Comments </guimenu>
from menu <guimenu> Comments </guimenu> (in the <guimenu> Tools menu</guimenu>). Receive the same list by clicking on the icon comments
<inlinemediaobject><imageobject><imagedata align="center" fileref="pics/draw3-remark_icon.png"></imageobject></inlinemediaobject>.
</para>
<para>
Comments list contains two columns, the first is a moment in time to which the comment, and the other
title of the comment.
<figure> <title>List of comments</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-remarks_list.png"></imageobject>
</mediaobject></figure>
When you point to comment and selecting "Open" (or double-click to comment), will be further
window containing the exact content of the comment, the title, the author, etc. The window showing the comment contains the "Go To"
when you press it, the program moves to the reading at the time (and possibly a set of charts), to which this comment
it refers.
<figure> <title>Window comments</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-remark_view.png"></imageobject>
</mediaobject></figure>
</para>
<para>
Reading program draws a star icon on the time intervals in the graphs of parameters.
This star appears when there is at least one comment relating to the time period.
When you click on the star, opens the same window as the list of comments, with the difference
that it will contain only the comments relating to the said compartment.
<figure> <title>Celebrities showing the presence of comments relating to the following time periods</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-remarks_stars.png"></imageobject>
</mediaobject></figure>
</para>
</section>
<section id="draw3-ext-remarks-editing">
<title>Add a comment</title>
<para>
The program also allows browsing to create comments. To add a new comment, select <guimenu> Add comment </guimenu>
from menu <guimenu> Comments </guimenu>, located in the <guimenu> Tools menu </guimenu>. A window will appear where you can enter the title of the comment
its content, and choose whether to cover the entire comment object or set of charts current. The time by which
will refer Comments are, it is time akutalnie indicated by the cursor on the time charts.
After entering the title and the content of the comment, press the "Add" button, it will send a comment
the server.
<figure> <title>Add new comments</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-remark_add.png"></imageobject>
</mediaobject></figure>
</para>
</section>
</section> 
<!-- draw3-ext-remarks -->

<section id="draw3-ext-reloadconfiguration">
<title>Reload the configuration </title>
<para>
Program Draw 3 gives the possibility to reload the configuration parameters. It is, however, possible, which should
to perform at the express request of the IT department's Newtermu,
because the browsing program detects the configuration change
and reads her own, without user interaction.
</para>
<para>
In order to reload the configuration choose <guimenu>Tools</guimenu> and <guimenu>Reload configuration</guimenu>.
</para>
</section> <!-- draw3-ext-reloadconfiguration -->

<section id="draw3-ext-importdefinable">
<title>Import windows definable from a previous version</title>
<para>
For those using a previous version of the viewer Draw 3 can import
defined sets of graphs (called in the previous version of
<quote>Definable windows</quote>). If you want to take advantage of this opportunity,
choose <guimenu>Tools</guimenu> and
Import <guimenu>Definable windows from an earlier version</guimenu> or use the keyboard shortcut
<keycode>keys Ctrl + Shift + I</keycode>.
A window opens in which you select a file from a saved configuration - is usually stored
in your home directory under the name beginning with <filename>ekrn</filename>,
then the name of the configuration (eg for Bytów Bytom) and extension <filename>def</filename>:
<figure>
<title>Import definable windows</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-importdefinable.png"></imageobject>
</mediaobject>
</figure>
</para>
</section> <!-- draw3-ext-importdefinable -->

<section id="draw3-ext-remoteparametersset">
<title>Remote change parameter settings</title>
<para>
The program gives selected users browsing remote tasks
ZET controller parameters used in the plants Newtermu. Access to this
functionality requires an account on the server and appropriate Newtermu rights
access to the parameters of each plant.
</para>
<para>
If you have permission, from the menu select <guimenu>Tools</guimenu>
<guimenu>Set the parameters</guimenu> or use the keyboard shortcut <keycode>Ctrl + O</keycode>. Open a window confirming your power to change the parameters:
<figure>
<title>Remote change parameters - authorization</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-parameters_remote_set3.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
After successful authentication the course of browsing software connects to the server, and will show you a window:
<para>
<figure>
<title> Remote change parameters - fixed </title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-parameters_remote_set.png"></imageobject>
</mediaobject>
</figure>
Located on the top of the list allows you to select the device you want to modify the operating parameters
(in this case, the boiler controller 5). The program allows you to modify the value of the fixed and known.
temporary packages. Each of these types of values are in a separate tab.
</para>
<para>
In the "fixed" you can change the values of the constants. To do this, click on the field values, and then
type a new value. Constant parameters are acceptable ranges of values, which must be contained.
If you have entered a value falls outside the acceptable range, you will be
informed.
<figure>
<title> Remote change parameters - exceeding the range </title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-parameters_remote_set4.png"></imageobject>
</mediaobject>
</figure>
For your changes are sent to the device (and thus take effect), choose <guimenu> Actions </guimenu> option
<guimenu> Set permanent </guimenu>.
</para>
<para>
In the "Packages" for a list of packages currently selected controller. When you click on the number or description of the package, you will be
window listing. The list includes another moment in time where the package changes its value. In this window
You can add new value (selecting the <guimenu>Add</guimenu>), edit existing ones (by right-clicking
the value of the mouse, and then selecting  <guimenu>Edit</guimenu> from the menu that appears). You can also delete the value (the
<guimenu>Delete</guimenu>).
<note><para>
The program is trying to be "intelligent" in the sense that all directly consecutive identical values are merged together.
Do not be surprised if, for example with the last value set on hour 10 of at 10Pa for example, add a new value of at a
10Pa at hour 11, you will not see a new entry - the first to "consume" the value of the newly added.
</para></note>
<figure>
<title> Remote change parameters - packs </title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-parameters_remote_set5.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
From the program, you can also choose the type of time-control packages. To do this, select the menu
<guimenu>Actions</guimenu> and then <guimenu>Set the type of packages</guimenu>. Shows you a window
where you can make a choice:
<figure>
<title> Remote change parameters - select the type of package </title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-parameters_remote_set2.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
With the help menu, you can also:
<itemizedlist>
<listitem><para>refresh the current values of the controller - select <guimenu>Actions</guimenu> and then <guimenu>Download (refresh) value</guimenu></para></listitem>
<listitem><para>packages and reset to default values fixed - select <guimenu>Actions</guimenu>, and then <guimenu>Reset the value</guimenu></para></listitem>
</itemizedlist>
</para>
</section> <!-- draw3-ext-remoteparametersset -->

<section id="draw3-ext-cmd">
<title>Starting Draw 3 from the command line</title>
<note><para>
The command line is available directly (running Linux), or (in the case of Windows) using X-terminal emulator (such as Cygwin).
</para>
<para>
To run a program <quote> from the command line </quote>, you must run
<emphasis> shell </emphasis> (a shell) that allows for typing commands.
You can do this by running, for example, a program called
<application> Terminal </application> or <application> Console </application> -
you can find it in the KDE menu <guimenu> System </guimenu>. </para>
<para> When the shell prompt, see eg containing your
user name, computer name and the current directory. Can prompt
enter the name of the command or program to run. Options
served by its name separated by any number of spaces. If the program
is not in the default location for programs (as well as for example in
SZARP the system software), you must specify the full path before the name
to the program directories separated by a <emphasis> / </emphasis>.
For example, the full path to the program is a Draw 3
<filename>/opt/szarp/bin/draw3</filename>.
</para></note>
<para>
Draw 3 can be run from the command line. By typing:
<programlisting>
/opt/szarp/bin/draw3 -h
</programlisting>
get a list of options the program. To start Draw 3 for a particular database, use the option <emphasis>-Dprefix=&lt;name&gt; </emphasis>, where <emphasis>&lt;name&gt;</emphasis> of course, replace the name of the selected database. For example, for a base in Sztum type:
<programlisting>
/opt/szarp/bin/draw3 -Dprefix=sztu
</programlisting>
</para>
<para>
For Windows, you can also start reading on your computer (after installation), also from the command line. Run command line in one of three ways:
<itemizedlist>
<listitem><para> the menu select <guimenu>Start</guimenu>-><guimenu>All programs</guimenu>-><guimenu>Accessories</guimenu>-><guimenu>Command Prompt</guimenu></para></listitem>
<listitem><para> the menu select <guimenu>Start</guimenu>-><guimenu> Run ... </guimenu>, type <emphasis>cmd</emphasis> and press Enter</para></listitem>
<listitem><para> use the keyboard shortcut <keycode>Win</keycode> (Windows logo key) <keycode>+ R</keycode>, type <emphasis>cmd</emphasis> and press Enter.</para></listitem>
</itemizedlist>
</para>
<para>
<figure>
<title>Running the command line</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-command_line.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
<figure>
<title>Command line</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-command_line2.png"></imageobject>
</mediaobject>
</figure>
</para>
<para>
Then at the command prompt run the browsing (example for the directory specified by the default installation options):
<programlisting>
"c:\Program Files\SZARP\bin\draw.exe" /base:name_base
</programlisting>
</para>
</section> <!-- draw3-ext-cmd -->

<section id="draw3-ext-luamath">
<title>Lua math functions</title>
<note><para>
When defining your own parameters (see <xref linkend="draw3-ext-parametersset">) can next to basic arithmetic, use more complex mathematical functions. Used for this library <emphasis> math </emphasis>, in which the functions are defined.
</para></note>
<para>
Below is a list of features that you can use when you define. To use them, you have to prefix their name a reference to the library <emphasis> math </emphasis>, or use the sqrt function <quote> </quote> (root calculation), you must enter:
<programlisting>
math.sqrt(100)
</programlisting>
</para>
<para>
<table frame="all"><title>Lua functions to create your own parameters</title>
<tgroup cols="3" align="left" colsep="1" rowsep="1">
<colspec colname="col1" align="left" colwidth="1*"> <!-- Identyfikatory kolumn -->
<colspec colname="col2" align="left" colwidth="2*">
<colspec colname="col3" align="left" colwidth="1*">
<thead>
<row>
<entry align="center">Functions</entry>
<entry align="center">The result of the function</entry>
<entry align="left">Example of use</entry>
</row>
</thead>
<tbody>

<row>
<entry align="left">abs(x)</entry>
<entry align="left">the absolute value of x</entry>
<entry><programlisting>math.abs(4)</programlisting></entry>
</row>

<row>
<entry>sin(x), cos(x), tan(x)</entry>
<entry>sinus, cosinus, tangens angle x given in radians</entry>
<entry><programlisting>math.sin(0)</programlisting></entry>
</row>

<row>
<entry>asin(x), acos(x), atan(x)</entry>
<entry>arcus sinus, arcus cosinus, arcus tangens values x</entry>
<entry><programlisting>math.asin(1)</programlisting></entry>
</row>

<row>
<entry>sinh(x), cosh(x), tanh(x)</entry>
<entry>sinus hiperboliczny, cosinus hiperboliczny, tangens hiperboliczny values x</entry>
<entry><programlisting>math.sinh()</programlisting></entry>
</row>

<row>
<entry>ceil(x), floor(x)</entry>
<entry>functions rounding the number x to the nearest integer, respectively, up and down</entry>
<entry><programlisting>math.ceil(4.5)</programlisting></entry>
</row>

<row>
<entry>deg(x), rad(x)</entry>
<entry>conversion from radians to degrees (deg), and the degrees to radians (rad)</entry>
<entry><programlisting>math.rad(90)</programlisting></entry>
</row>

<row>
<entry>exp(x)</entry>
<entry>raise to the power of x</entry>
<entry><programlisting>math.exp(3)</programlisting></entry>
</row>

<row>
<entry>log(x)</entry>
<entry>the natural logarithm of x</entry>
<entry><programlisting>math.log(10)</programlisting></entry>
</row>

<row>
<entry>log10(x)</entry>
<entry>logarithm base 10 of x</entry>
<entry><programlisting>math.log10(100)</programlisting></entry>
</row>

<row>
<entry>pow(x,y)</entry>
<entry>x raised to the power of y (you can also use x ^ y)</entry>
<entry><programlisting>math.pow(2,3)</programlisting></entry>
</row>

<row>
<entry>sqrt(x)</entry>
<entry>square root of x</entry>
<entry><programlisting>math.sqrt(9)</programlisting></entry>
</row>

<row>
<entry>min(x,y,z)</entry>
<entry>the minimum value of the specified list of arguments</entry>
<entry><programlisting>math.min(7,4,12)</programlisting></entry>
</row>

<row>
<entry>max(x,y,z)</entry>
<entry>the minimum value of the specified list of arguments</entry>
<entry><programlisting>math.max(3,4.5,1)</programlisting></entry>
</row>

<row>
<entry>modf(x)</entry>
<entry>two arguments - the total value of x and the value after the decimal point </entry>
<entry><programlisting>math.modf(5.3)</programlisting></entry>
</row>

<row>
<entry>random([x],[y])</entry>
<entry>random value in the range (0, 1) when running without an argument, (0, x) - given one argument, (x, y) - are two arguments</entry>
<entry><programlisting>math.random(23,80)</programlisting></entry>
</row>

<row>
<entry>huge</entry>
<entry>infinity (sometimes may be useful in combination with the trigonometric functions)</entry>
<entry><programlisting>math.huge</programlisting></entry>
</row>

<row>
<entry>pi</entry>
<entry>constant pi</entry>
<entry><programlisting>math.pi</programlisting></entry>
</row>

</tbody>
</tgroup>
</table>
</para>
<para>
More about writing your own functions you can read in the chapter <ulink url="http://szarp.org/szarp/doc/ipk/html/draw-definable-lua.html">LUA definable parameters</ulink> document<ulink url="http://szarp.org/szarp/doc/ipk/html/szarp.html">SZARP System - technical documentation</ulink>.
</para>

</section> <!-- draw3-ext-luamath -->

<section id="draw3-ext-expression-searching">
<title>Search by your criteria</title>
<note><para>
The program allows you to search browsing moments in time, that meet the criteria set by the user.
</para></note>
<para>
To access this feature, select the menu <guimenu> Tools </guimenu> option <guimenu> Search date </guimenu>. A window similar to the window used for editing definable parameters
(see: <xref linkend="draw3-ext-parametersset">). This similarity arises from the fact that the search terms are in the form LUA
language and are really specific parameters, which instead of a numerical value to return logic '1 ', the criterion for a given moment in time
is satisfied or '0 ', when the criterion is not met. Introduction of the criterion is made in exactly the same way as editing user parameters. </para>
<note><para> At the same time as a logical '1 ', it really means anything that is not numerical 0th
You can also use the LUA language constants true and false (but if you do not have to make better use of numerical values, because this will allow optimize
such criteria by the optimizer).
</para></note>
<para>
As you have written explicitly press <guimenu> Back </guimenu> - it will find the criterion of "backwards" - that is, for moments in time prior to
This, on which the cursor was located from the graph, which opened the search window. When this moment in time is found, you will be
in the window, and the cursor is placed on the chart at the position corresponding to the time it finds. Similarly, work on "Next".
</para>
<figure> <title>Search by the specified condition</title>
<mediaobject>
<imageobject><imagedata align="center" fileref="pics/draw3-searching_date.png"></imageobject>
</mediaobject></figure>
</section>
<section id="draw3-ext-draw2draw3comparison">
<title>Draw 3 Comparison with the previous version of</title>
<para>
Reading program in the third version retains most of the features of previous versions
also adding new functionality. The terminology has changed - instead of the term
<quote> Window </quote> and <quote> Definable window </quote> are terms used
<quote> Set of graphs </quote> and <quote>Set of the user</quote>.
<para>
Changes in functionality as compared with the previous version are provided in the following table:
<table frame="all"><title>Functional changes occurring in the third version of the viewer</title>
<tgroup cols="4" align="left" colsep="1" rowsep="1">
<colspec colname="col1" align="left" colwidth="1*"> <!-- Identyfikatory kolumn -->
<colspec colname="col2" align="left" colwidth="2*">
<colspec colname="col3" align="left" colwidth="2*">
<colspec colname="col4" align="left" colwidth="2*">
<thead>
<row>
<entry>what the change</entry>
<entry align="center">Draw 2</entry>
<entry align="center">Draw 3</entry>
<entry>link to the documentation</entry>
</row>
</thead>
<tbody>

<row>
<entry align="left">Filter</entry>
<entry align="left">
use restricted to the average daily, excludes the use of split cursor keys and the letters from <keycode> a </keycode> to <keycode> f </keycode> it was possible to switch the filter level
</entry>
<entry align="left">
works for all types of medium, can be used together with split cursor
</entry>
<entry align="left"><xref linkend="draw3-ext-filter"></entry>
</row>

<row>
<entry align="left">Wersion for Windows</entry>
<entry>no</entry>
<entry>created with version for Linux (Technology WxWidgets)</entry>
<entry align="left"></entry>
</row>

<row>
<entry align="left">The windows and tabs for easier viewing sets of charts</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-base-tabs"></entry>
</row>

<row>
<entry align="left">Facilitating the search sets of charts </entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-base-charts"></entry>
</row>

<row>
<entry align="left">Search parameters</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-base-find-parameter"></entry>
</row>

<row>
<entry align="left">Define your own set of charts</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-ext-chartset"></entry>
</row>

<row>
<entry align="left">Multilingualism</entry>
<entry>no</entry>
<entry>new feature - the ability to watch the program interface and parameter names in different languages</entry>
<entry align="left"><xref linkend="draw3-ext-languages"></entry>
</row>

<row>
<entry align="left">Define your own parameters</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-ext-parametersset"></entry>
</row>

<row>
<entry align="left">Calculation of correlation parameters</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-ext-chartxy"></entry>
</row>

<row>
<entry align="left">Stored information (percentage) of samples in the graph parameter</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-base-win"></entry>
</row>

<row>
<entry align="left">Dynamic (multi-threaded) loading parameters</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"></entry>
</row>

<row>
<entry align="left">Support native printing mechanism</entry>
<entry>no</entry>
<entry>new function</entry>
<entry align="left"><xref linkend="draw3-base-prints"></entry>
</row>

</tbody>
</tgroup>
</table>
</para>

</section> <!-- draw3-ext-draw2draw3comparison -->

<section id="draw3-ext-shortcuts">
<title>Keyboard shortcuts</title>
<para>
Changing the display medium:
<itemizedlist>
<listitem><para>change display mode for a year - <keycode>Alt + R</keycode></para></listitem>
<listitem><para>change display mode for to monthly - <keycode>Alt + M</keycode></para></listitem>
<listitem><para>change display mode for a week - <keycode>Alt + T</keycode></para></listitem>
<listitem><para>change display mode for a daily - <keycode>Alt + D</keycode></para></listitem>
<listitem><para>change display mode for to 30-minute - <keycode>Alt + 3</keycode></para></listitem>
<listitem><para>change display mode for of the seasonal - <keycode>Alt + S</keycode></para></listitem>
</itemizedlist>
</para>
<para>
Navigation:
<itemizedlist>
<listitem><para>shift of 6 samples (in the window with the average 10-minute intervals) - <keycode>Shift + (right arrow or left)</keycode></para></listitem>
<listitem><para>moving the length of one screen to the left on the chart - <keycode>PgUp</keycode></para></listitem>
<listitem><para>moving the length of one screen to the right on the chart - <keycode>PgDown</keycode></para></listitem>
<listitem><para>jump at the date of - <keycode>Ctrl + J</keycode></para></listitem>
<listitem><para>copy location - <keycode>Ctrl + C</keycode></para></listitem>
<listitem><para>pasting location - <keycode>Ctrl + V</keycode></para></listitem>
<listitem><para>block diagram - <keycode>Ctrl + B</keycode></para></listitem>
</itemizedlist>
</para>
<para>
Auxiliary graphs:
<itemizedlist>
<listitem><para>Total values - <keycode>Ctrl + G</keycode></para></listitem>
<listitem><para>Average percentage - <keycode>Ctrl + Alt + S</keycode></para></listitem>
<listitem><para>The ratio of values - <keycode>Shift + Ctrl + S</keycode></para></listitem>
</itemizedlist>
</para>
<para>
Search:
<itemizedlist>
<listitem><para>search performance charts - <keycode>Ctrl + F</keycode></para></listitem>
<listitem><para>Find a set of graphs - <keycode>Ctrl + Z</keycode></para></listitem>
</itemizedlist>
</para>
<para>
Filter - averaging adjacent samples
<itemizedlist>
<listitem><para>averaging level change (from 0 to 5) - of <keycode>A</keycode> to <keycode>F</keycode></para></listitem></itemizedlist>
</para>
<para>
Prints and print settings:
<itemizedlist>
<listitem><para>change in the quantity of printed axis - <keycode>Ctrl + X</keycode></para></listitem>
<listitem><para>printing charts - <keycode>Ctrl + P</keycode></para></listitem>
</itemizedlist>
</para>
<para>
The windows and tabs:
<itemizedlist>
<listitem><para>window display in full screen mode - <keycode>F11</keycode></para></listitem>
<listitem><para>open a new window - <keycode>Ctrl + N</keycode></para></listitem>
<listitem><para>open a new tabs - <keycode>Ctrl + T</keycode></para></listitem>
<listitem><para>move to the next tab - <keycode>Ctrl + PgDown</keycode></para></listitem>
<listitem><para>move to the previous tab - <keycode>Ctrl + PgUp</keycode></para></listitem>
<listitem><para>close the current tab - <keycode>Ctrl + W</keycode></para></listitem>
<listitem><para>close the current window - <keycode>Ctrl + Q</keycode></para></listitem>
</itemizedlist>
</para>
<para>
Sets its own parameters and charts:
<itemizedlist>
<listitem><para>create your own set of charts - <keycode>Ctrl + A</keycode></para></listitem>
<listitem><para>edit your own set of charts XYZ - <keycode>Ctrl + E</keycode></para></listitem>
<listitem><para>define your own paramete - <keycode>Ctrl + U</keycode></para></listitem>
</itemizedlist>
</para>
<para>
Help:
<itemizedlist>
<listitem><para>displays help - <keycode>F1</keycode></para></listitem>
<listitem><para>display context-sensitive help - <keycode>Shift + F1</keycode></para></listitem>
<listitem><para>view documents displayed parameter - <keycode>Ctrl + H</keycode></para></listitem>
</itemizedlist>
</para>
<para>
Other:
<itemizedlist>
<listitem><para>refresh values - <keycode>Ctrl + R</keycode></para></listitem>
<listitem><para>start/shutdown mode, the split cursor <keycode>Backspace</keycode></para></listitem>
<listitem><para>definable windows import from an earlier version - <keycode> Shift + Ctrl + I</keycode></para></listitem>
<listitem><para>remote to change the parameter settings - <keycode>Ctrl + O</keycode></para></listitem>
</itemizedlist>
</para>
</section> <!-- draw3-ext-shortcuts -->

</chapter> <!-- draw3-ext -->

<chapter id="draw3-definied-param-appendix">
<title>Appendix: Parameters definable, guide.</title>
<section id="raison-d-etre">
<title>What is this document?</title>
<para>
SZARP system documentation describes the parameters definable Lua, which are rather Reference.
The information collected there are for
someone who already knows what it definable parameters. 
The aim of this addition is the introduction of user-definable parameters,
so that the parameters of the LUA could begin to use freely those who have no knowledge of how these parameters. 
Confine ourselves to definable parameters of the program
browsing because only the user client applications
SZARP system can directly create and edit.
</para>
</section>
<section>
<title>Introduction.</title>
<para>
The main job of finding out is to draw waveforms
parameter values. The user opens a set of graphs, sets
at a time, and the program reading the parameter values
and for each of the intervals (X-axis points) plotted on the graph
parameter values.
<note>
<para>
Example: if you watch only one parameter, we are on the screen year
and in addition lined up at the beginning of 2012, is to draw a graph of the program
browsing learns what the average [1] parameter value for
month of January 2012, February 2012, March 2012, etc., then the thus obtained
values are presented as a graph parameter.
</para>
</note>
</para>
<para>
For parameters collected by the system directly SZARP
(eg outside temperature), it's simple, the program browsing
pulls the corresponding values from the database, asking the database -
what is the average outside temperature in January 2012,
February 2012, March 2012, etc., and if we are to screen a month
it will ask what is the average temperature in the next
days. So it is with definable parameters - the program browsing
asks what is the average value of the parameter for the month of January,
February, March, etc, has only been in this case does not reach the value
directly into the database but uses a formula parameter
definable to get the desired value.
</para>
<para>
And whence the name of definable parameters LUA? Definable parameters LUA
are called so because their record is used scripting language LUA.
It is quite a popular language with a syntax based on C / Pascal, 
a person familiar with the basics of seeing the example code in LUA
certainly quickly find familiar structures.
</para>
</section>
<section>
<title>The beginnings.</title>
<para>
By adding a new parameter write a furnaces of code in LUA. This piece of
code (often called a formula) calculates the value of the parameter, and this calculated
by the formula value is exactly what the program browsing
applied to the chart.
</para>
<para>
Let's move quickly to the example, you must first run the program browsing
and add a new parameter definable(details of how to use
draw3 program to add a new parameter, see the documentation
draw3) with the following formula:
<programlisting>
v = 1
</programlisting>
<note>
<para>
In all embodiments it to the "average again"
<xref linkend="draw3-param-tutorial-types-of-averages">
we assume that the parameter has the options 'Average counted as' set to
'the result of application of the formula for the average'.
</para>
</note>
</para>
<para>
When you see our chart we see horizontal line parameter -
in each of its point parameter takes the value 1 the result of which
was to be expected, and how did it happen?
If we are still at the beginning of 2012 is a program browsing
made formula 12 times wanting to know what is the value
parameter for the January 2012, February 2012, etc. The program browsing
after the formula, which is subsequently checked in variable v. This is what formula
assigns the variable is considered to be the value of the parameter. And because our formula
does nothing but sets the variable v 1, no worries
with anything, then our parameter is the graph form horizontal
mark.
</para>
</section> 
<section> 
<title>Time, that is, the variable 't'.</title>
<para>
Now let's do something a little more interesting, switch draw3 on window
the 10-minute (day) and change our formula to:
<programlisting>
v = math.sin(t * 2 * 3.14 / 3600 / 12)
</programlisting>
On the screen we see two sine wave. The undoubted progress if
in terms of visual appeal.
Our new parameter is no longer a horizontal line, its value depends on
from time. The secret lies in the use of the variable 't'. it is
in this variable, before the formula, the program browsing
places the information for which time he wants to get the value of our
parameter. Assuming that we have chosen the day, eg 24 November 2012,
This would draw a graph looking at the program made a formula parameter
24 * 6 (draw a graph for 24 hours, and for each hour charge
10 minute values), substituting the variable t the time
corresponding to 24 November at 00:00 on November 24 at 0:10,
November 24 at 0:20, November 24 at 00:30 November 24
at 0:40, November 24 at 0:50, November 24 at 01:00
..., November 24 at 23:40, 24 November at 23.50.
</para>
<para>
Time variable t is stored as a number, the number of seconds from a
contractual time '0 '. It sounds quite mysterious but in practice, when we write
parameters do not need to remember how time is recorded. This example
is properly taken into account the representation of the exception because the variable t, so
to fit in 24 2 sine wave.
</para>
</section> 
<section> 
<title>Average, variable 'pt'. </title>
<para>
We know, therefore, how the program forward formula browsing information
by which time he was talking about. We lack even one piece of information to
set - the variable pt. The variable pt is a variable in which draw3
before the formula is placed about what kind of average
formula is calculated. If the program display is set to 'age',
it will be interested in the monthly average, the screen will be a monthly average
Daily, etc. In contrast to the variable t, the variable entitled not accept the
numerical but only one of the values from the specified file.
</para>
<para>
The best example would be here. Let's take a parameter that will accept different
value depending on which time interval is selected in the program
viewers, this is the formula:
<programlisting>
if pt == PT_YEAR then
        v = 5
elseif pt == PT_MONTH then
        v = 4
elseif pt == PT_DAY then
        v = 3
elseif pt == PT_HOUR8 then
        v = 2
elseif pt == PT_MIN10 then
	v = 1
else
        v = 0
end
</programlisting>
<note>
<para>
Please note that in the peer-reviewed this parameter was set
attribute 'Average counted as' on 'the result of applying the formula for the average'.
</para>
</note>
</para>
<para>
Now what do we see? We get a parameter that, if we choose the screen a decade
will return a value of 5, the year the value of 4, the monthly value of 2 when the day
value of one and zero otherwise.
</para>
<para>
PT_YEAR, PT_MONTH, PT_DAY, PT_HOUR8, PT_MIN10, PT_WEEK i PT_SEC10 then all
permissible value of the variable pt.
</para>
</section> 
<section> 
<title>Finally something interesting.</title>
<para>
We already know more or less how the parameters from the browser software
and we have seen some examples of formulas. But we can not really do
still nothing worth attention, we can make the parameters whose values depend on
from the time that the parameters assume the values dependent on the medium for which it
count, but it is still not enough.
</para>
<para>
We need the ability to appeal in our formulas to other parameters
SZARP program. By other parameters mean here both parameters collected
SZARP in the database as well as other definable parameters.
</para>
<para>
Quick example, let's parameter:
<programlisting>
v = p("xxxx:Network:External temperature controller, t, pt)
</programlisting>
<note>
<para>
Text p (...) does not enter to get the desired effect, in the
parameter editing, click on the button &lt;W&gt; and illustrated list select
outside temperature graph, and we'll get it for what it is.
</para>
</note>
</para>
<para>
We introduce a new parameter, and we see that this parameter is our faithful
a copy of the parameter 'external temperature'.
</para>
<para>
What's going on here?
</para>
<para>
Here, the parameter canceled the value of another parameter. It
just makes design p ("xxxx: Network:External temperature controller, t, pt),
namely the function p function retrieves the value of the parameter p, adopt
it three parameters:
<itemizedlist>
<listitem><para>
The first is 'global parameter name', again not really we have to worry
what exactly is because the name of draw3 get when you select
chart list
</para></listitem>
<listitem><para>
the second parameter is the time
</para></listitem>
<listitem><para>
and the third kind of mean
</para></listitem>
</itemizedlist>
<para>
In the second and third argument comes exactly the same as discussed in the two
the preceding paragraphs. To retrieve the value of the parameter you need to specify
about what time and by which we mean the average, in the same way as defined
This draw3 when asked about the value of our parameter.
</para>
<para>
In our call to p ("xxxx: Network:External temperature controller, t, pt),
as the time we have given the value of the variable t, and the average value of the variable Fri
So we said that we want to get the value of the outside temperature
for such a moment in time and the average of the parameter which we asked
browsing program. If you are reading program will ask - I want to average
10 minute for your parameter for the hours 8:40 - this is our parameter
returns the 10-minute average outdoor temperature for 8:40.
</para>
<para>
We could also write eg p ("xxxx: Network:External temperature controller, t, PT_MONTH)
then, regardless of what kind of medium-browsing program will ask us,
we will pay the average monthly value.
</para>
<para>
Armed with verage speed of the grid:this knowledge, we can now do more interesting parameters, such trivial parameter counting
the average speed of the grid:
<programlisting>
v = (p ("xxxx: Boiler 3: Controller:Speed left the grid", t, pt) + p ("xxxx: Boiler 3:Driver speed grilled right", t, pt)) / 2
</programlisting>
</para>
<para>
This parameter specifies the recommended opening the zone:
<programlisting>
local v1 = p("xxx:Boiler 1:Controller:The length of the combustion zone", t, pt)
if v1 < 3
 then
  v = 0
 else
  if v1 > 4
   then
    v = 100
   else
    v = (v1 * 100) % 300
  end
end
</programlisting>
</para>
</section> 
<section> 
<title>Travel in time.</title>
<para>
We know that the program browsing asking us for a parameter value is placed
in the variable t for which the time information wants to get the parameter value.
</para>
<para>
I also know, semi-officially, that this value is stored as the number of seconds
some time '0 '. We therefore attempt to write parameter
which will consist of eg external temperature rise during
10 minutes, for example like this:
<programlisting>
v = p ("xxxx:Network:External temperature controller, t, PT_MIN10) - p("xxxx:Network:External temperature controller, t - 10 * 60, PT_MIN10)
</programlisting>
</para>
<para>
And in fact, the parameter returns what we want. As you can see it can be done so in such a way so
but manual operation on the value of the variable t is inconvenient, so the
in formulas browser software we have available function szb_move_time.
Szb_move_time function takes 3 parameters: start time, if units
you must move the start time, the offset. That's what this
This function returns the offset time value. Before we give an example
is yet to clarify what's going on with these units. By means of
function szb_move_time time we move a certain amount: years, months,
days, weeks, periods of 8-hour and 10-minute increments. They correspond closely types
medium-sized screens draw3 program. Designations units are also the same
as the label of the average, and so accordingly PT_YEAR, PT_MONTH, PT_WEEK, PT_DAY,
PT_WEEK, PT_HOUR8, PT_MIN10.
</para>
<para>
Some examples of function calls szb_move_time:
<itemizedlist>
<listitem><para>
szb_move_time(t, 6, PT_MIN10) - move the specified time of 6 units of 10 minutes 
</para></listitem>
<listitem><para>
szb_move_time(t, 2, PT_YEAR) - move the specified time of 2 years ahead
</para></listitem>
<listitem><para>
szb_move_time(t, -1, PT_MONTH) - move the specified time of 1 month backward
</para></listitem>
</itemizedlist>
</para>
<para>
We can now write parameter such that will be administering the difference between
outside temperature value for the time for which is calculated
parameter and sometimes months earlier.
</para>
<para>
<programlisting>
local month_earlier = szb_move_time(t, -1, PT_MONTH)
v = p("xxxx:Network:External temperature controller, t, PT_MIN10) - p("xxxx:Network:External temperature controller, month_earlier, PT_MIN10)
</programlisting>
</para>
<para>
We can also using the fact that we have a variable called average for the
draws a parameter, do the following - a parameter that
viewed on the screen is going to give us a decade of growth in the average
annual temperature between years; viewed on the screen annual
This increase in the average monthly temperature between months;
monthly, daily temperature rise between days, etc.
</para>
<para>
<programlisting>
local previous_time = szb_move_time (t, -1 pt)
v = p ("xxxx:Network:External temperature controller", t, pt) - p("xxxx: Network:External temperature controller", previous_time, pt)
</programlisting>
</para>

</section>
<section id="draw3-param-tutorial-types-of-averages"> 
<title>Average again.</title>
<para>
In the first example is contained note: in all the examples to the point
"Average again" <xref linkend="draw3-param-tutorial-types-of-averages">
we assume that the parameter has the options 'Average counted as' set to 'score
application of the formula for the average '.
</para>
<para>
Now is the time to explain what's going on.
</para>
<para>
Recall again the reading program draws a graph parameter.
</para>
<para>
For starters, let's assume that we are on the screen annually. The program browsing
must draw 12 points, the average monthly for each month of the year.
Therefore, the formula produces parameter 12 times for each time setting the following
the variables t and pt:
<itemizedlist>
<listitem><para>
variable t = 1 day of January, hour 00:00, the variable pt = PT_MONTH
</para></listitem>
<listitem><para>
variable t = 1 day of January, hour 00:00, the variable pt = PT_MONTH
</para></listitem>
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = 1 day in December, hour 0:00, the variable pt = PT_MONTH
</para></listitem>
</itemizedlist>
</para>
<para>
When will monthly display, eg. at March program browsing
trigger formula 31 times, with these parameters:
</para>
<para>
<itemizedlist>
<listitem><para>
variable t = 1 day of January, hour 00:00, the variable pt = PT_MONTH
</para></listitem>
<listitem><para>
variable t = 2 days of March, hour 0:00, the variable pt = PT_MONTH
</para></listitem>
<listitem><para>
variable t = 3 days of March, hour 0:00, the variable pt = PT_MONTH
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = 31 days of March, hour 0:00, the variable pt = PT_MONTH
</para></listitem>
</itemizedlist>
</para>
<para>
Suppose now that we are in the period of the day, then the program will do so:
<itemizedlist>
<listitem><para>
variable t = hour 0:00, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = hour 0:10, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = hour 0:20, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = hour 23:50, the variable pt = PT_MIN10
</para></listitem>
</itemizedlist>
</para>
<para>
Now change the options on the 'Average counted as' on' the average of the application of the formula
for each sample. "What has changed? The change lies in the fact that the program browsing
begins to count the mean "alone." Browsing program, regardless of whether they
average we draw, always calls the formula for the 10-minute and
from the results thus obtained calculate the average value.  Returning to the analyzed example, 
our formula is made with such parameters:
<itemizedlist>
<listitem><para>
variable t = 1 day of January, hour 0:00, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 1 day of January, hour 0:10, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 1 day of January, hour 0:20, the variable pt = PT_MIN10
</para></listitem>
<listitem> <para>
variable t = 1 day of January, hour 0:30, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = 1 day of January, hour 23:50, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 2 day of January, hour 0:00, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 2 day of January, hour 0:10, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = 2 day of January, hour 23:50, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = 31 day of January, hour 23:50, the variable pt = PT_MIN10
<note>
<para>
these results are then averaged and the average value is
positioned as the parameter value for the month of January, and the program
move to next month
</para>
</note>
</para></listitem>
<listitem><para>
variable t = 1 day of February, hour 0:00, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 1 day of February, hour 0:10, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 1 day of February, hour 0:20, the variable pt = PT_MIN10
</para></listitem>
<listitem> <para>
variable t = 1 day of February, hour 0:30, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = 1 day of February, hour 23:50, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 2 day of February, hour 0:00, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 2 day of February, hour 0:10, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 2 day of February, hour 0:20, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = 2 day of February, hour 0:30, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
...
</para></listitem>
<listitem><para>
variable t = 2 day of January, hour 23:50, the variable pt = PT_MIN10
</para></listitem>
<listitem><para>
variable t = last day of February, hour 23:50, the variable pt = PT_MIN10
<note>
<para>
here again, averaging occurs and the program moves on
</para>
</note>
</para></listitem>
<listitem><para>
...
</para></listitem>
</itemizedlist>
</para>
<para>
Similarly, the screen will be for a month. Only the case for medium
10-minute like will not vary.
<note>
<para>
These 10-minute resolution stems from the fact that the value of the 10-minute is the largest
the resolution with which SZARP keeps data in the archive.
</para>
</note>
</para>
<para>
There are several reasons why in the peer-reviewed
(and in general the system SZARP) we have these two types of parameters.
First of all, some of the parameters because of its features easily
is saved as one that will count the other way.
</para>
<para>
Take, for example, counting parameter quotient of any two parameters
(A and B for simplicity). The simplest formula for this parameter record is:
<programlisting>
v = p("A", t, pt) / p("B", t, pt)
</programlisting>
</para>
<para>
What happens now to count the value of this parameter the first method for
for example, the average daily? We obtain the result of executing the following operations:
<programlisting>
v = (average daily parameter A) / (average daily parameter B)
</programlisting>
</para>
<para>
In most cases, however, it will not be what we want, we
we need values:
<programlisting>
v = (
        (A value for 00:00 hour) / (value of B for 00:00 hour)
        + (A-values for 0:10 hour) / (value of B for 0:10 hour)
        + (A-values for 0:20 hour) / (value of B for 0:20 hour)
...
        + (A-values for 23:50 hour) / (value of B for 23:50 hour)
    ) / (24 * 6)
</programlisting>
Exactly this gives us another way. Writing such an operation
parameter which averages are calculated first way would be to task
much more time-consuming (especially if we wanted to parameter
behaved correctly for each type of medium).
</para>
<para>
Let's take another example of a parameter:
<programlisting>
v = p("xxx:Boiler 4:Driver:Efficiency boiler", t, pt)
local i = 1;
while isnan(v) and i < 10 do
        local v1 = p("xxx:Boiler 4:Driver:Efficiency Boiler", szb_move_time(t,-i, pt), pt)
        local v2 = p("xxx:Boiler 4:Driver:Efficiency Boiler", szb_move_time(t, i, pt), pt)
        if isnan(v1) then
                v = v2
        elseif isnan(v2) then
                v = v1
        else
                v = (v1 + v2) / 2
        end
        i = i + 1
end
</programlisting>
This parameter performs a simple task - trying to make a hole in the data
parameter "boiler efficiency". If for a given 10-minute no time
value of the parameter, then the formula is trying to generate it from the underlying
next. For this formula the values of counting a first method, the
would not make sense.
</para>
</section>
<section>
<title>Note the values of 10 seconds.</title>
<para>
Our short guide carefully clears so far the average of 10 seconds.
For this reason, these averages are treated a little differently,
primarily because of the lint appeared in much later than
same parameters definable and are not synchronized to the local
computer.
</para>
<para>
That difference is reduced to the behavior of the parameters which
the average is calculated as "the standard application of the formula for each sample."
We wrote in the previous chapter that for such parameters independently
on the kind of the average watch, and so the formula will always
calculated for pt = PT_MIN10. It did not make sense in the case of medium
10-second course, which is why this rule does not apply.
For medium 10 seconds, regardless of what type of
parameter is always formula for calculating them will be called from pt = PT_SEC10.
(denoting the value of the average 10-second PT_SEC10 and this is also
value reading program used in the calculation of parameters).
</para>
</section>

</chapter> <!-- draw3-ext-lua-parameters-tutorial -->
